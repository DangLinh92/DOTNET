@model List<FunctionViewModel>
<div class="sidebar" id="sidebar">
    <div class="sidebar-inner slimscroll">
        <div id="sidebar-menu" class="sidebar-menu">
            <ul>
                <li class="menu-title">
                    <span>Main</span>
                </li>
                <li class="submenu">
                    <a href="/Admin/Home/Index"><i class="la la-dashboard"></i> <span> Home</span></a>
                </li>

                @foreach (var item in Model.Where(x => string.IsNullOrEmpty(x.ParentId)))
                {
                    <li class="menu-title">
                        <span>@item.Name</span>
                    </li>

                    @if (Model.Any(x => x.ParentId == item.Id))
                    {
                        @foreach (var subItem in Model.Where(x => x.ParentId == item.Id))
                        {
                            @if (Model.Any(x => x.ParentId == subItem.Id))
                            {
                                <li class="submenu">
                                    <a href="#"><i class="@subItem.IconCss"></i> <span>@subItem.Name</span> <span class="menu-arrow"></span></a>
                                    <ul style="display: none;">
                                        @foreach (var childItem in Model.Where(x => x.ParentId == subItem.Id))
                                        {
                                            <li><a href="@childItem.URL">@childItem.Name</a></li>
                                        }

                                    </ul>
                                </li>
                            }
                            else
                            {
                                <li>
                                    <a href="@subItem.URL"><i class="@subItem.IconCss"></i> <span>@subItem.Name</span></a>
                                </li>
                            }
                        }
                    }
                }

            </ul>
        </div>
    </div>
</div>