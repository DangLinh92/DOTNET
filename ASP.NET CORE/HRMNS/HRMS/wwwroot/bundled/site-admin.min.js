!function(){let t;function e(){t&&clearTimeout(t),t=setTimeout(()=>document.getElementById("logoutForm").submit(),288e5)}e(),window.onmousemove=e,window.onkeypress=e,window.click=e,window.onclick=e,window.touchstart=e,window.onfocus=e,window.onchange=e,window.onmouseover=e,window.onmouseout=e,window.onmousemove=e,window.onmousedown=e,window.onmouseup=e,window.onkeypress=e,window.onkeydown=e,window.onkeyup=e,window.onsubmit=e,window.onreset=e,window.onselect=e,window.onscroll=e}(),function(){let t;function e(){t&&clearTimeout(t),t=setTimeout(()=>document.getElementById("logoutForm").submit(),72e5)}e(),window.onmousemove=e,window.onkeypress=e,window.click=e,window.onclick=e,window.touchstart=e,window.onfocus=e,window.onchange=e,window.onmouseover=e,window.onmouseout=e,window.onmousemove=e,window.onmousedown=e,window.onmouseup=e,window.onkeypress=e,window.onkeydown=e,window.onkeyup=e,window.onsubmit=e,window.onreset=e,window.onselect=e,window.onscroll=e}();var hrms={notify:function(t,e,a,n){"alert"===a?alertify.alert(e,t,function(){"error"===e?alertify.error(t):(alertify.success("Ok"),n())}):"confirm"===a?alertify.confirm(e,t,function(){alertify.success("Ok"),n()},function(){alertify.error("Cancel")}):"success"===a?alertify.success(t):"error"===a?alertify.error(t):"warning"===a&&alertify.warning(t)},dateFormatJson:function(t){var e,a,n;return null==t||""==t?"":(e=(t=new Date(parseInt(t.substr(6)))).getMonth()+1,a=t.getDate(),n=t.getFullYear(),t.getHours()<10&&0,t.getMinutes()<10&&0,(a=a<10?"0"+a:a)+"/"+(e=e<10?"0"+e:e)+"/"+n)},dateTimeFormatJson:function(t){var e,a;return null==t||""==t?"":(e=(t=new Date(parseInt(t.substr(6)))).getMonth()+1,(a=(a=t.getDate())<10?"0"+a:a)+"/"+(e=e<10?"0"+e:e)+"/"+t.getFullYear()+" "+(a=(a=t.getHours())<10?"0"+a:a)+":"+(e=(e=t.getMinutes())<10?"0"+e:e)+":"+(a=(a=t.getSeconds())<10?"0"+a:a))},getStatus:function(t){return 1==t?"Active":"InActive"},formatNumber:function(t,e){return isFinite(t)?((e=t.toFixed(e).split("."))[0]=e[0].replace(/\d(?=(\d{3})+$)/g,"$&,"),e.join(".")):t.toString()},unflattern:function(t){for(var e={},a=[],n=0;n<t.length;n+=1){var o=t[n];o.children=[],e[o.id]=n,(null!==o.parentId?t[e[o.parentId]].children:a).push(o)}return a},nullString:function(t){return null==t?"":t},run_waitMe:function(t){t.waitMe({effect:"facebook",text:"Please waiting...",bg:"rgba(255, 255, 255, 0.7)",color:"#000",maxSize:"",waitTime:-1,textPos:"vertical",fontSize:"",source:"",onClose:function(){}})},hide_waitMe:function(t){t.waitMe("hide")}},trainingController=($(document).ajaxSend(function(t,e,a){"POST"!=a.type.toUpperCase()&&"PUT"!=a.type.toUpperCase()||(a=$("form").find("input[name='__RequestVerificationToken']").val(),e.setRequestHeader("RequestVerificationToken",a))}),function(){this.initialize=function(){function a(){$("#txtIdTraining").val(""),$("#txtTrainnigType").val(""),$("#txtTrainer").val(""),$("#txtCost").val(""),$("#txtFromDate").val(""),$("#txtToDate").val(""),$("#txtDescription").val,$("#txtTrainnigType").trigger("change")}function n(){$.ajax({url:"/Admin/TrainingList/GetTrainingType",type:"POST",dataType:"json",async:!1,success:function(t){var a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TrainName+"</option >"}),$("#txtTrainnigType").html(a)},error:function(t){hrms.notify("Cannot loading","error","alert",function(){})}})}$("#btnShowAddNewTraining").on("click",function(){a(),$("#hd_training").val("Add"),n(),$("#add_training").modal("show")}),$("body").on("click",".m_View_training",function(t){t.preventDefault(),$("#view_nhanvien_training").modal("show");t=$(this).data("id");t&&$.ajax({type:"GET",url:"/Admin/TrainingList/GetNhanVienTraining",dataType:"json",data:{Id:t},success:function(t){var a="";$.each(t,function(t,e){a+="<tr><td>"+t+"</td><td>"+e.MaNV+"</td><td>"+e.HR_NHANVIEN.TenNV+"</td></tr>"}),""==a&&(a="<tr><td>-</td><td>-</td><td>-</td></tr>"),(t=$("#nhanvienTrainingDatatable"))&&t.DataTable().destroy(),$("#nhanvienTrainingDatatable").DataTable({paging:!0,select:!0,searching:!0}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="nhanvienTrainingDatatable_length"]').removeClass("form-control-sm"),$("#bdyNhanVienTraining").html(a)},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".m_Edit_training",function(t){t.preventDefault(),a(),n(),$("#hd_training").val("Edit"),$("#add_training").modal("show");var e=$(this).data("id");e&&$.ajax({type:"GET",url:"/Admin/TrainingList/GetTrainingById",dataType:"json",data:{Id:e},success:function(t){t?($("#txtIdTraining").val(e),$("#txtTrainnigType").val(t.TrainnigType),$("#txtTrainer").val(t.Trainer),$("#txtFromDate").val(t.FromDate),$("#txtToDate").val(t.ToDate),$("#txtDescription").val(t.Description),$("#txtTrainnigType").trigger("change")):hrms.notify("error: Not found data!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".m_Delete_training",function(t){t.preventDefault();t=$(this).data("id");$("#hd_training_delete").val(t),$("#delete_training").modal("show")}),$("#btnDeleteTraining").on("click",function(t){t.preventDefault();t=$("#hd_training_delete").val();$.ajax({url:"/Admin/TrainingList/DeleteTraining",type:"POST",dataType:"json",data:{Id:t},success:function(t){$("#delete_training").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){window.location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btnSaveTraining").on("click",function(t){var e,a,n,o,i,r;$("#frmTraining").valid()&&(t.preventDefault(),t=$("#hd_training").val(),e=$("#txtIdTraining").val(),a=$("#txtTrainnigType").val(),n=$("#txtTrainer").val(),o=$("#txtFromDate").val(),i=$("#txtToDate").val(),r=$("#txtDescription").val(),$.ajax({url:"/Admin/TrainingList/PutTraining?action="+t,type:"POST",dataType:"json",data:{Id:e,TrainnigType:a,Trainer:n,FromDate:o,ToDate:i,Description:r},success:function(t){$("#add_training").modal("hide"),hrms.notify("Update success!","Success","alert",function(){window.location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".m_Import_training",function(t){t.preventDefault();t=$(this).data("id");$("#fileInputExcel").val(null),$("#hd-ImportType").val(t),$("#import_Training").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_Training").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_Training").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/TrainingList/ImportNhanVienToTraining?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_Training").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error: Import error!","error","alert",function(){})}}),!1})}}),TrainingTypeController=function(){this.initialize=function(){function a(){$("#hd_addType").val(""),$("#txtIdTrainingType").val(""),$("#txtTrainName").val(""),$("#txtDescription").val(""),$("#txtStatusType").val(""),$("#txtStatusType").trigger("change")}$("#btnAddType").on("click",function(){a(),$("#hd_addType").val("Add"),$("#add_type").modal("show")}),$("body").on("click",".m_Edit_trainingType",function(t){t.preventDefault(),a(),$("#hd_addType").val("Edit"),$("#add_type").modal("show");var e=$(this).data("id");e&&$.ajax({type:"GET",url:"/Admin/TrainingType/GetTypeById",dataType:"json",data:{Id:e},success:function(t){t?($("#txtIdTrainingType").val(e),$("#txtTrainName").val(t.TrainName),$("#txtDescription").val(t.Description),$("#txtStatusType").val(t.Status),$("#txtStatusType").trigger("change")):hrms.notify("error: Not found data!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".m_Delete_trainingType",function(t){t.preventDefault();t=$(this).data("id");$("#txtIdTrainingTypeDelete").val(t),$("#delete_type").modal("show")}),$("#btnDeleteTrainingType").on("click",function(t){t.preventDefault();t=$("#txtIdTrainingTypeDelete").val();$.ajax({url:"/Admin/TrainingType/DeleteType",type:"POST",dataType:"json",data:{Id:t},success:function(t){$("#delete_type").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){window.location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btnSaveTrainingType").on("click",function(t){var e,a,n,o;$("#frmTrainingType").valid()&&(t.preventDefault(),t=$("#hd_addType").val(),e=$("#txtIdTrainingType").val(),a=$("#txtTrainName").val(),n=$("#txtDescription").val(),o=$("#txtStatusType").val(),$.ajax({url:"/Admin/TrainingType/UpTrainingType?action="+t,type:"POST",dataType:"json",data:{Id:e,TrainName:a,Description:n,Status:o},success:function(t){$("#add_type").modal("hide"),hrms.notify("Update success!","Success","alert",function(){window.location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))})}},EhsDMKeHoachController=function(){this.initialize=function(){$("#btnDelete_NoiDungChiTiet").on("click",function(t){t.preventDefault();1==confirm("Chắc chắn muốn xóa!\n Enter OK or Cancel.")&&(t=$("#hd_IdNoiDungChiTiet").val(),$.ajax({type:"POST",url:"/Admin/EhsDanhMucKeHoach/DeleteNoiDungChiTiet",dataType:"json",data:{Id:t},success:function(t){hrms.notify("Update success!","Success","alert",function(){$("#addEditNoiDungChiTietModel").modal("hide"),ItemClickNoiDung(t.MaNoiDung)})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}))}),$("#btnSave_NoiDungChiTiet").on("click",function(t){t.preventDefault();var e,a,n,o,i,r,c,u,d,l,s,m,y;1==confirm("Chắc chắn muốn update!\n Enter OK or Cancel.")&&(t=$("#hd_IdNoiDungChiTiet").val(),e=$("#_txtNhaThau").val(),a=$("#_txtChuKy").val()+"/"+$("#_txtDonViChuKy").val(),n=$("#_txtViTri").val(),o=$("#_txtSoLuong").val(),i=$("#_txtNgayThucHien").val(),r=$("#_txtThoiGian_ThucHien").val(),c=$("#_txtYeuCau").val(),u=$("#_txtNgayKhaiBaoThietBi").val(),d=$("#_txtThoiGianThongBao").val()+"/"+$("#_txtDonViThoiGianThongBao").val(),l=$("#_txtMaHieuMayKiemTra").val(),s=$("#_txtTienDoHoanThanh").val(),m=$("#_txtKetQua").val(),y=$("#_txtNguoiPhuTrach").val(),$.ajax({type:"POST",url:"/Admin/EhsDanhMucKeHoach/UpdateNoiDungChiTiet",dataType:"json",data:{Id:t,NhaThau:e,ChuKy:a,ViTri:n,SoLuong:o,NgayThucHien:i,ThoiGian_ThucHien:r,YeuCau:c,NgayKhaiBaoThietBi:u,ThoiGianThongBao:d,MaHieuMayKiemTra:l,TienDoHoanThanh:s,KetQua:m,NguoiPhucTrach:y},success:function(t){hrms.notify("Update success!","Success","alert",function(){$("#addEditNoiDungChiTietModel").modal("hide"),ItemClickNoiDung(t.MaNoiDung)})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".edit-noidungKH",function(t){t.preventDefault(),$("#addEditNoiDungChiTietModel").modal("show");t=$(this).data("id");$.ajax({type:"POST",url:"/Admin/EhsDanhMucKeHoach/GetNoiDungChiTietById",dataType:"json",data:{Id:t},success:function(t){var e,a;t?($("#hd_IdNoiDungChiTiet").val(t.Id),$("#_txtNoiDung").val(t.EHS_NOIDUNG.NoiDung),$("#_txtNhaThau").val(t.NhaThau),1<t.ChuKy.split("_").length&&(e=t.ChuKy.split("_")[0],a=t.ChuKy.split("_")[1],$("#_txtChuKy").val(e),$("#_txtDonViChuKy").val(a),$("#_txtDonViChuKy").trigger("change")),$("#_txtViTri").val(t.ViTri),$("#_txtSoLuong").val(t.SoLuong),$("#_txtNgayThucHien").val(t.NgayThucHien),$("#_txtThoiGian_ThucHien").val(t.ThoiGian_ThucHien),$("#_txtYeuCau").val(t.YeuCau),$("#_txtNgayKhaiBaoThietBi").val(t.NgayKhaiBaoThietBi),$("#_txtMaHieuMayKiemTra").val(t.MaHieuMayKiemTra),$("#_txtTienDoHoanThanh").val(t.TienDoHoanThanh),$("#_txtKetQua").val(t.KetQua),$("#_txtNguoiPhuTrach").val(t.NguoiPhucTrach),1<t.ThoiGianThongBao.split("_").length&&(e=t.ThoiGianThongBao.split("_")[0],a=t.ThoiGianThongBao.split("_")[1],$("#_txtThoiGianThongBao").val(e),$("#_txtDonViThoiGianThongBao").val(a),$("#_txtDonViThoiGianThongBao").trigger("change"))):hrms.notify("error: Not found content detail!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btnSaveNoiDungKeHoach").on("click",function(t){var e;$("#frmNoiDungKeHoach").valid()&&(t.preventDefault(),t=$("#txtNoiDungKeHoachId").val(),e=$("#txtNoiDungKeHoach").val(),$.ajax({url:"/admin/EhsDanhMucKeHoach/UpdateNoiDung",type:"POST",data:{maNoiDung:t,noidung:e},success:function(){hrms.notify("Update success!","Success","alert",function(){$("#update_NoiDungkehoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnDelete_NoiDungKH").on("click",function(t){$("#frmNoiDungKeHoach").valid()&&(t.preventDefault(),t=$("#txtNoiDungKeHoachId").val(),$.ajax({url:"/admin/EhsDanhMucKeHoach/DeleteNoiDung",type:"POST",data:{maNoiDung:t},success:function(){hrms.notify("Update success!","Success","alert",function(){$("#update_NoiDungkehoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnSaveDemucKeHoach").on("click",function(t){var e,a;$("#frmDemucKeHoach").valid()&&(t.preventDefault(),t=$("#txtDemucKeHoachId").val(),e=$("#txtTenDemucKeHoach_VN").val(),a=$("#txtLuatDinhLquanDeMuc_Edit").val(),$.ajax({url:"/admin/EhsDanhMucKeHoach/UpdateDemucKeHoach",type:"POST",data:{maDemuc:t,tenDemuc:e,luatDinh:a},success:function(){hrms.notify("Update success!","Success","alert",function(){$("#update_Demuckehoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnDeleteDemucKeHoach").on("click",function(t){$("#frmDemucKeHoach").valid()&&(t.preventDefault(),t=$("#txtDemucKeHoachId").val(),$.ajax({url:"/admin/EhsDanhMucKeHoach/DeleteDemucKeHoach",type:"POST",data:{maDemuc:t},success:function(){hrms.notify("Update success!","Success","alert",function(){$("#update_Demuckehoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnShowAddKH").on("click",function(){$("#txtTenKeHoach_VN").val(""),$("#txtTenKeHoach_KR").val(""),$("#txtLuatDinhLquan").val(""),$("#add_kehoach").modal("show")}),$("#btnSaveNewKeHoach").on("click",function(t){var e,a;$("#frmAddKeHoach").valid()&&(t.preventDefault(),t=$("#txtTenKeHoach_VN").val(),e=$("#txtTenKeHoach_KR").val(),a=$("#txtLuatDinhLquan").val(),$.ajax({url:"/admin/EhsDanhMucKeHoach/AddKeHoach",type:"POST",data:{nameVN:t,nameKR:e,luatDinh:a},success:function(){hrms.notify("Update success!","Success","alert",function(){$("#add_kehoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnDeleteKeHoach").on("click",function(){var t=$("#txtKeHoachId_Delete").val();$.ajax({url:"/admin/EhsDanhMucKeHoach/DeleteKeHoach",type:"POST",data:{maKeHoach:t},success:function(){hrms.notify("Delete success!","Success","alert",function(){$("#delete_KeHoach").modal("hide"),window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btn-importNoiDung").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val("IMPORT_NOIDUNG_CHITIET"),$("#import_DeMucKeHoachModel").modal("show")}),$("#btn-importDemuc").on("click",function(){$("#fileInputExcel").val(null),$("#import_DeMucKeHoachModel").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#import_DeMucKeHoachModel").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#import_DeMucKeHoachModel").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/EhsDanhMucKeHoach/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_DeMucKeHoachModel").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error: Import error!","error","alert",function(){})}}),!1}),$("#btn-getFileNoiDung").on("click",function(t){t.preventDefault();var t=$(".roles-menu>ul li.active").data("val"),e=$("#_txtYear").val();$.ajax({url:"/admin/EhsDanhMucKeHoach/GetFileNoiDungChiTiet",type:"POST",data:{maKeHoach:t,year:e},success:function(t){window.location.href=t},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})})}},roleAndPermisstionController=function(){this.initialize=function(){}},bangCongController=function(){this.initialize=function(){$("#btn-baocaolamthemgio").on("click",function(){$("#_txtBeginTimeBC").val(""),$("#_txtEndTimeBC").val(""),$("#baocaolamthemgioModel").modal("show")}),$("#btnExportBaocaoLamThemGio").on("click",function(t){var e,a;$("#frmBaocaolamthemgio").valid()&&(t.preventDefault(),t=$("#cboDepartmentBaoCao").val(),e=$("#_txtBeginTimeBC").val(),a=$("#_txtEndTimeBC").val(),hrms.run_waitMe($("#frmBaocaolamthemgio")),$.ajax({url:"/Admin/BangCong/ExportBaoCaoOT",type:"POST",data:{bophan:t,fromTime:e,endTime:a},success:function(t){window.location.href=t,$("#baocaolamthemgioModel").modal("hide"),hrms.hide_waitMe($("#frmBaocaolamthemgio"))},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){hrms.hide_waitMe($("#frmBaocaolamthemgio"))})}}))}),$("#btn-denghilamthemgio").on("click",function(){$("#_txtBeginTimeOT").val(""),$("#_txtEndTimeOT").val(""),$("#denghilamthemgioModel").modal("show")}),$("#btnExportDenghiLamThemGio").on("click",function(t){var e,a;$("#frmDenghilamthemgio").valid()&&(t.preventDefault(),t=$("#cboDepartmentDenghi").val(),e=$("#_txtBeginTimeOT").val(),a=$("#_txtEndTimeOT").val(),hrms.run_waitMe($("#frmDenghilamthemgio")),$.ajax({url:"/Admin/BangCong/ExportDenghiOT",type:"POST",data:{bophan:t,fromTime:e,endTime:a},success:function(t){window.location.href=t,$("#denghilamthemgioModel").modal("hide"),hrms.hide_waitMe($("#frmDenghilamthemgio"))},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){hrms.hide_waitMe($("#frmDenghilamthemgio"))})}}))}),$("#btnExportData").on("click",function(){hrms.run_waitMe($("#bangCongDataTable"));var t=$("#searchToTime").val(),e=$("#cboDepartment").val();let a="";a=$("#chStatus").is(":checked")?"InActive":"Active",$("#chStatus_All").is(":checked")&&(a="");var n=$("#searchOutToTime").val();t&&n?$.ajax({type:"POST",url:"/Admin/BangCong/OutPutExcel",data:{timeEndUser:n,status:a,department:e,timeTo:t},success:function(t){window.location.href=t,hrms.hide_waitMe($("#bangCongDataTable"))},error:function(t){hrms.notify(t.responseText,"error","alert",function(){}),hrms.hide_waitMe($("#bangCongDataTable"))}}):hrms.notify("Hãy nhập ngày tháng!","error","alert",function(){})}),$("#btnExportData2").on("click",function(){var t=$("#searchToTime").val(),e=$("#cboDepartment").val();t?(hrms.run_waitMe($("#bangCongDataTable")),$.ajax({type:"POST",url:"/Admin/BangCong/TongHopNhanSuDaily",data:{time:t,dept:e},success:function(t){hrms.hide_waitMe($("#bangCongDataTable")),window.open("/Admin/Spreadsheet/Export?fileName="+t,"_blank")},error:function(t){hrms.notify(t.responseText,"error","alert",function(){}),hrms.hide_waitMe($("#bangCongDataTable"))}})):hrms.notify("Hãy nhập tháng!","error","alert",function(){})}),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a;""!=deparment&&"SP"!=deparment?a="<option value='"+deparment+"'>"+deparment+"</option >":(a="<option value=''>--All--</option>",$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"})),$("#cboDepartment").html(a),$("#cboDepartmentDenghi").html(a),$("#cboDepartmentBaoCao").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},$("#btnChotCong").on("click",function(){var t=$("#searchToTime").val(),e=$("#searchOutToTime").val();t&&e?(hrms.run_waitMe($("#bangCongDataTable")),$.ajax({type:"POST",url:"/Admin/BangCong/ChotBangCong",data:{timeEndUser:e,thang:t},success:function(t){hrms.hide_waitMe($("#bangCongDataTable")),hrms.notify("Chốt Công OK","Success","alert",function(){})},error:function(t){hrms.notify(t.responseText,"error","alert",function(){}),hrms.hide_waitMe($("#bangCongDataTable"))}})):hrms.notify("Hãy nhập ngày tháng!","error","alert",function(){})}),this.beginSearch=function(){hrms.run_waitMe($("#bangCongDataTable"))},this.doAftersearch=function(){$("#bangCongDataTable").DataTable({scrollY:600,scrollX:!0,scrollCollapse:!0,paging:!1,select:!0,searching:!0,order:[3,"asc"],fixedColumns:{left:5},fixedHeader:!0}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="bangCongDataTable_length"]').removeClass("form-control-sm"),hrms.hide_waitMe($("#bangCongDataTable"))}};const sales=[{id:1,region:"North America",country:"United States",city:"New York",amount:1740,date:"2013/01/06"},{id:2,region:"North America",country:"United States",city:"Los Angeles",amount:850,date:"2013/01/13"},{id:3,region:"North America",country:"United States",city:"Denver",amount:2235,date:"2013/01/07"},{id:4,region:"North America",country:"Canada",city:"Vancouver",amount:1965,date:"2013/01/03"},{id:5,region:"North America",country:"Canada",city:"Edmonton",amount:880,date:"2013/01/10"},{id:6,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:5260,date:"2013/01/17"},{id:7,region:"South America",country:"Argentina",city:"Buenos Aires",amount:2790,date:"2013/01/21"},{id:8,region:"South America",country:"Paraguay",city:"Asuncion",amount:3140,date:"2013/01/01"},{id:9,region:"Europe",country:"United Kingdom",city:"London",amount:6175,date:"2013/01/24"},{id:10,region:"Europe",country:"Germany",city:"Berlin",amount:4575,date:"2013/01/11"},{id:11,region:"Europe",country:"Spain",city:"Madrid",amount:3680,date:"2013/01/12"},{id:12,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2260,date:"2013/01/01"},{id:13,region:"Asia",country:"China",city:"Beijing",amount:2910,date:"2013/01/26"},{id:14,region:"Asia",country:"Japan",city:"Tokyo",amount:8400,date:"2013/01/05"},{id:15,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:1325,date:"2013/01/14"},{id:16,region:"Australia",country:"Australia",city:"Sydney",amount:3920,date:"2013/01/05"},{id:17,region:"Australia",country:"Australia",city:"Melbourne",amount:2220,date:"2013/01/15"},{id:18,region:"Africa",country:"South Africa",city:"Pretoria",amount:940,date:"2013/01/01"},{id:19,region:"Africa",country:"Egypt",city:"Cairo",amount:1630,date:"2013/01/10"},{id:20,region:"North America",country:"Canada",city:"Edmonton",amount:2910,date:"2013/01/23"},{id:21,region:"North America",country:"United States",city:"Los Angeles",amount:2600,date:"2013/01/14"},{id:22,region:"Europe",country:"Spain",city:"Madrid",amount:4340,date:"2013/01/26"},{id:23,region:"Europe",country:"United Kingdom",city:"London",amount:6650,date:"2013/01/24"},{id:24,region:"North America",country:"Canada",city:"Edmonton",amount:490,date:"2013/01/22"},{id:25,region:"North America",country:"United States",city:"New York",amount:3390,date:"2013/01/25"},{id:26,region:"North America",country:"United States",city:"New York",amount:5160,date:"2013/02/20"},{id:27,region:"North America",country:"United States",city:"Los Angeles",amount:5750,date:"2013/02/12"},{id:28,region:"North America",country:"United States",city:"Denver",amount:2805,date:"2013/02/13"},{id:29,region:"North America",country:"Canada",city:"Vancouver",amount:2505,date:"2013/02/09"},{id:30,region:"North America",country:"Canada",city:"Edmonton",amount:930,date:"2013/02/04"},{id:31,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:1240,date:"2013/02/03"},{id:32,region:"South America",country:"Argentina",city:"Buenos Aires",amount:315,date:"2013/02/04"},{id:33,region:"South America",country:"Paraguay",city:"Asuncion",amount:2870,date:"2013/02/18"},{id:34,region:"Europe",country:"United Kingdom",city:"London",amount:5150,date:"2013/02/18"},{id:35,region:"Europe",country:"Germany",city:"Berlin",amount:2725,date:"2013/02/20"},{id:36,region:"Europe",country:"Spain",city:"Madrid",amount:2840,date:"2013/02/04"},{id:37,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5840,date:"2013/02/13"},{id:38,region:"Asia",country:"China",city:"Beijing",amount:6750,date:"2013/02/11"},{id:39,region:"Asia",country:"Japan",city:"Tokyo",amount:1200,date:"2013/02/03"},{id:40,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4550,date:"2013/02/08"},{id:41,region:"Australia",country:"Australia",city:"Sydney",amount:6040,date:"2013/02/17"},{id:42,region:"Australia",country:"Australia",city:"Melbourne",amount:2205,date:"2013/02/08"},{id:43,region:"Africa",country:"South Africa",city:"Pretoria",amount:990,date:"2013/02/20"},{id:44,region:"Africa",country:"Egypt",city:"Cairo",amount:700,date:"2013/02/11"},{id:45,region:"Australia",country:"Australia",city:"Melbourne",amount:2325,date:"2013/02/15"},{id:46,region:"South America",country:"Argentina",city:"Buenos Aires",amount:930,date:"2013/02/21"},{id:47,region:"North America",country:"Canada",city:"Edmonton",amount:1560,date:"2013/02/04"},{id:48,region:"North America",country:"United States",city:"New York",amount:1740,date:"2013/03/04"},{id:49,region:"North America",country:"United States",city:"Los Angeles",amount:3575,date:"2013/03/20"},{id:50,region:"North America",country:"United States",city:"Denver",amount:4500,date:"2013/03/04"},{id:51,region:"North America",country:"Canada",city:"Vancouver",amount:1605,date:"2013/03/17"},{id:52,region:"North America",country:"Canada",city:"Edmonton",amount:800,date:"2013/03/21"},{id:53,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:640,date:"2013/03/08"},{id:54,region:"South America",country:"Argentina",city:"Buenos Aires",amount:735,date:"2013/03/19"},{id:55,region:"South America",country:"Paraguay",city:"Asuncion",amount:2520,date:"2013/03/20"},{id:56,region:"Europe",country:"United Kingdom",city:"London",amount:6675,date:"2013/03/18"},{id:57,region:"Europe",country:"Germany",city:"Berlin",amount:3625,date:"2013/03/25"},{id:58,region:"Europe",country:"Spain",city:"Madrid",amount:1200,date:"2013/03/07"},{id:59,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2e3,date:"2013/03/07"},{id:60,region:"Asia",country:"China",city:"Beijing",amount:1410,date:"2013/03/10"},{id:61,region:"Asia",country:"Japan",city:"Tokyo",amount:2700,date:"2013/03/19"},{id:62,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:5950,date:"2013/03/24"},{id:63,region:"Australia",country:"Australia",city:"Sydney",amount:5120,date:"2013/03/08"},{id:64,region:"Australia",country:"Australia",city:"Melbourne",amount:1980,date:"2013/03/17"},{id:65,region:"Africa",country:"South Africa",city:"Pretoria",amount:1110,date:"2013/03/08"},{id:66,region:"Africa",country:"Egypt",city:"Cairo",amount:980,date:"2013/03/21"},{id:67,region:"Australia",country:"Australia",city:"Sydney",amount:5460,date:"2013/03/19"},{id:68,region:"Europe",country:"Germany",city:"Berlin",amount:3800,date:"2013/03/12"},{id:69,region:"Australia",country:"Australia",city:"Melbourne",amount:2610,date:"2013/03/04"},{id:70,region:"Europe",country:"Russian Federation",city:"Moscow",amount:3080,date:"2013/03/22"},{id:71,region:"Asia",country:"Japan",city:"Tokyo",amount:2010,date:"2013/03/23"},{id:72,region:"Asia",country:"China",city:"Beijing",amount:1200,date:"2013/03/04"},{id:73,region:"North America",country:"United States",city:"New York",amount:7680,date:"2013/04/15"},{id:74,region:"North America",country:"United States",city:"Los Angeles",amount:1325,date:"2013/04/07"},{id:75,region:"North America",country:"United States",city:"Denver",amount:2835,date:"2013/04/10"},{id:76,region:"North America",country:"Canada",city:"Vancouver",amount:3660,date:"2013/04/10"},{id:77,region:"North America",country:"Canada",city:"Edmonton",amount:390,date:"2013/04/12"},{id:78,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:4420,date:"2013/04/08"},{id:79,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1755,date:"2013/04/13"},{id:80,region:"South America",country:"Paraguay",city:"Asuncion",amount:2580,date:"2013/04/15"},{id:81,region:"Europe",country:"United Kingdom",city:"London",amount:850,date:"2013/04/01"},{id:82,region:"Europe",country:"Germany",city:"Berlin",amount:2825,date:"2013/04/10"},{id:83,region:"Europe",country:"Spain",city:"Madrid",amount:540,date:"2013/04/06"},{id:84,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1520,date:"2013/04/08"},{id:85,region:"Asia",country:"China",city:"Beijing",amount:8760,date:"2013/04/26"},{id:86,region:"Asia",country:"Japan",city:"Tokyo",amount:1110,date:"2013/04/16"},{id:87,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:6850,date:"2013/04/19"},{id:88,region:"Australia",country:"Australia",city:"Sydney",amount:1940,date:"2013/04/23"},{id:89,region:"Australia",country:"Australia",city:"Melbourne",amount:1980,date:"2013/04/21"},{id:90,region:"Africa",country:"South Africa",city:"Pretoria",amount:3090,date:"2013/04/03"},{id:91,region:"Africa",country:"Egypt",city:"Cairo",amount:1640,date:"2013/04/24"},{id:92,region:"Australia",country:"Australia",city:"Melbourne",amount:3585,date:"2013/04/01"},{id:93,region:"North America",country:"Canada",city:"Vancouver",amount:1770,date:"2013/04/01"},{id:94,region:"Australia",country:"Australia",city:"Melbourne",amount:4005,date:"2013/04/04"},{id:95,region:"North America",country:"Canada",city:"Edmonton",amount:2870,date:"2013/04/02"},{id:96,region:"North America",country:"Canada",city:"Edmonton",amount:960,date:"2013/04/20"},{id:97,region:"North America",country:"United States",city:"New York",amount:8640,date:"2013/05/14"},{id:98,region:"North America",country:"United States",city:"Los Angeles",amount:5450,date:"2013/05/24"},{id:99,region:"North America",country:"United States",city:"Denver",amount:2535,date:"2013/05/07"},{id:100,region:"North America",country:"Canada",city:"Vancouver",amount:1155,date:"2013/05/20"},{id:101,region:"North America",country:"Canada",city:"Edmonton",amount:3140,date:"2013/05/18"},{id:102,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2260,date:"2013/05/19"},{id:103,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1215,date:"2013/05/23"},{id:104,region:"South America",country:"Paraguay",city:"Asuncion",amount:1210,date:"2013/05/08"},{id:105,region:"Europe",country:"United Kingdom",city:"London",amount:875,date:"2013/05/25"},{id:106,region:"Europe",country:"Germany",city:"Berlin",amount:5400,date:"2013/05/03"},{id:107,region:"Europe",country:"Spain",city:"Madrid",amount:5940,date:"2013/05/25"},{id:108,region:"Europe",country:"Russian Federation",city:"Moscow",amount:4700,date:"2013/05/03"},{id:109,region:"Asia",country:"China",city:"Beijing",amount:5520,date:"2013/05/12"},{id:110,region:"Asia",country:"Japan",city:"Tokyo",amount:9210,date:"2013/05/22"},{id:111,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:7950,date:"2013/05/12"},{id:112,region:"Australia",country:"Australia",city:"Sydney",amount:3740,date:"2013/05/24"},{id:113,region:"Australia",country:"Australia",city:"Melbourne",amount:990,date:"2013/05/02"},{id:114,region:"Africa",country:"South Africa",city:"Pretoria",amount:3190,date:"2013/05/03"},{id:115,region:"Africa",country:"Egypt",city:"Cairo",amount:2430,date:"2013/05/11"},{id:116,region:"North America",country:"United States",city:"New York",amount:7380,date:"2013/06/15"},{id:117,region:"North America",country:"United States",city:"Los Angeles",amount:4475,date:"2013/06/08"},{id:118,region:"North America",country:"United States",city:"Denver",amount:1290,date:"2013/06/10"},{id:119,region:"North America",country:"Canada",city:"Vancouver",amount:2250,date:"2013/06/10"},{id:120,region:"North America",country:"Canada",city:"Edmonton",amount:350,date:"2013/06/22"},{id:121,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:5480,date:"2013/06/24"},{id:122,region:"South America",country:"Argentina",city:"Buenos Aires",amount:2355,date:"2013/06/10"},{id:123,region:"South America",country:"Paraguay",city:"Asuncion",amount:1960,date:"2013/06/23"},{id:124,region:"Europe",country:"United Kingdom",city:"London",amount:4125,date:"2013/06/06"},{id:125,region:"Europe",country:"Germany",city:"Berlin",amount:7925,date:"2013/06/12"},{id:126,region:"Europe",country:"Spain",city:"Madrid",amount:1120,date:"2013/06/22"},{id:127,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5100,date:"2013/06/01"},{id:128,region:"Asia",country:"China",city:"Beijing",amount:1500,date:"2013/06/25"},{id:129,region:"Asia",country:"Japan",city:"Tokyo",amount:5130,date:"2013/06/10"},{id:130,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:2475,date:"2013/06/10"},{id:131,region:"Australia",country:"Australia",city:"Sydney",amount:2100,date:"2013/06/06"},{id:132,region:"Australia",country:"Australia",city:"Melbourne",amount:3570,date:"2013/06/10"},{id:133,region:"Africa",country:"South Africa",city:"Pretoria",amount:550,date:"2013/06/02"},{id:134,region:"Africa",country:"Egypt",city:"Cairo",amount:2850,date:"2013/06/26"},{id:135,region:"Europe",country:"Russian Federation",city:"Moscow",amount:4280,date:"2013/06/19"},{id:136,region:"Australia",country:"Australia",city:"Sydney",amount:1460,date:"2013/06/17"},{id:137,region:"North America",country:"Canada",city:"Edmonton",amount:960,date:"2013/06/17"},{id:138,region:"Africa",country:"Egypt",city:"Cairo",amount:1520,date:"2013/06/03"},{id:139,region:"Asia",country:"Japan",city:"Tokyo",amount:6750,date:"2013/06/21"},{id:140,region:"North America",country:"United States",city:"New York",amount:7260,date:"2013/07/14"},{id:141,region:"North America",country:"United States",city:"Los Angeles",amount:2450,date:"2013/07/11"},{id:142,region:"North America",country:"United States",city:"Denver",amount:3540,date:"2013/07/02"},{id:143,region:"North America",country:"Canada",city:"Vancouver",amount:1950,date:"2013/07/03"},{id:144,region:"North America",country:"Canada",city:"Edmonton",amount:360,date:"2013/07/07"},{id:145,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:4500,date:"2013/07/03"},{id:146,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4575,date:"2013/07/21"},{id:147,region:"South America",country:"Paraguay",city:"Asuncion",amount:2310,date:"2013/07/18"},{id:148,region:"Europe",country:"United Kingdom",city:"London",amount:7500,date:"2013/07/04"},{id:149,region:"Europe",country:"Germany",city:"Berlin",amount:3575,date:"2013/07/23"},{id:150,region:"Europe",country:"Spain",city:"Madrid",amount:760,date:"2013/07/01"},{id:151,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2400,date:"2013/07/11"},{id:152,region:"Asia",country:"China",city:"Beijing",amount:3330,date:"2013/07/04"},{id:153,region:"Asia",country:"Japan",city:"Tokyo",amount:3480,date:"2013/07/23"},{id:154,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4875,date:"2013/07/11"},{id:155,region:"Australia",country:"Australia",city:"Sydney",amount:4980,date:"2013/07/19"},{id:156,region:"Australia",country:"Australia",city:"Melbourne",amount:2580,date:"2013/07/04"},{id:157,region:"Africa",country:"South Africa",city:"Pretoria",amount:2650,date:"2013/07/16"},{id:158,region:"Africa",country:"Egypt",city:"Cairo",amount:1190,date:"2013/07/02"},{id:159,region:"Asia",country:"Japan",city:"Tokyo",amount:960,date:"2013/07/26"},{id:160,region:"North America",country:"United States",city:"New York",amount:3600,date:"2013/08/08"},{id:161,region:"North America",country:"United States",city:"Los Angeles",amount:2250,date:"2013/08/01"},{id:162,region:"North America",country:"United States",city:"Denver",amount:1275,date:"2013/08/02"},{id:163,region:"North America",country:"Canada",city:"Vancouver",amount:3885,date:"2013/08/14"},{id:164,region:"North America",country:"Canada",city:"Edmonton",amount:1900,date:"2013/08/05"},{id:165,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2300,date:"2013/08/09"},{id:166,region:"South America",country:"Argentina",city:"Buenos Aires",amount:2895,date:"2013/08/15"},{id:167,region:"South America",country:"Paraguay",city:"Asuncion",amount:350,date:"2013/08/20"},{id:168,region:"Europe",country:"United Kingdom",city:"London",amount:4200,date:"2013/08/22"},{id:169,region:"Europe",country:"Germany",city:"Berlin",amount:7175,date:"2013/08/14"},{id:170,region:"Europe",country:"Spain",city:"Madrid",amount:4420,date:"2013/08/24"},{id:171,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5200,date:"2013/08/21"},{id:172,region:"Asia",country:"China",city:"Beijing",amount:7920,date:"2013/08/17"},{id:173,region:"Asia",country:"Japan",city:"Tokyo",amount:6990,date:"2013/08/22"},{id:174,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:2125,date:"2013/08/05"},{id:175,region:"Australia",country:"Australia",city:"Sydney",amount:2220,date:"2013/08/16"},{id:176,region:"Australia",country:"Australia",city:"Melbourne",amount:1575,date:"2013/08/23"},{id:177,region:"Africa",country:"South Africa",city:"Pretoria",amount:1880,date:"2013/08/12"},{id:178,region:"Africa",country:"Egypt",city:"Cairo",amount:710,date:"2013/08/25"},{id:179,region:"North America",country:"Canada",city:"Vancouver",amount:390,date:"2013/08/20"},{id:180,region:"Australia",country:"Australia",city:"Melbourne",amount:4635,date:"2013/08/04"},{id:181,region:"North America",country:"United States",city:"Denver",amount:4350,date:"2013/08/19"},{id:182,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:6020,date:"2013/08/02"},{id:183,region:"North America",country:"United States",city:"New York",amount:3660,date:"2013/08/19"},{id:184,region:"North America",country:"United States",city:"Los Angeles",amount:4525,date:"2013/08/24"},{id:185,region:"North America",country:"United States",city:"New York",amount:4410,date:"2013/09/12"},{id:186,region:"North America",country:"United States",city:"Los Angeles",amount:1725,date:"2013/09/07"},{id:187,region:"North America",country:"United States",city:"Denver",amount:2715,date:"2013/09/14"},{id:188,region:"North America",country:"Canada",city:"Vancouver",amount:2820,date:"2013/09/08"},{id:189,region:"North America",country:"Canada",city:"Edmonton",amount:2310,date:"2013/09/12"},{id:190,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:780,date:"2013/09/08"},{id:191,region:"South America",country:"Argentina",city:"Buenos Aires",amount:2370,date:"2013/09/19"},{id:192,region:"South America",country:"Paraguay",city:"Asuncion",amount:1410,date:"2013/09/09"},{id:193,region:"Europe",country:"United Kingdom",city:"London",amount:1825,date:"2013/09/23"},{id:194,region:"Europe",country:"Germany",city:"Berlin",amount:4075,date:"2013/09/06"},{id:195,region:"Europe",country:"Spain",city:"Madrid",amount:1020,date:"2013/09/04"},{id:196,region:"Europe",country:"Russian Federation",city:"Moscow",amount:4320,date:"2013/09/25"},{id:197,region:"Asia",country:"China",city:"Beijing",amount:7530,date:"2013/09/13"},{id:198,region:"Asia",country:"Japan",city:"Tokyo",amount:2820,date:"2013/09/08"},{id:199,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3050,date:"2013/09/04"},{id:200,region:"Australia",country:"Australia",city:"Sydney",amount:5080,date:"2013/09/25"},{id:201,region:"Australia",country:"Australia",city:"Melbourne",amount:1125,date:"2013/09/13"},{id:202,region:"Africa",country:"South Africa",city:"Pretoria",amount:850,date:"2013/09/24"},{id:203,region:"Africa",country:"Egypt",city:"Cairo",amount:1440,date:"2013/09/19"},{id:204,region:"North America",country:"Canada",city:"Vancouver",amount:1950,date:"2013/09/02"},{id:205,region:"North America",country:"United States",city:"New York",amount:6390,date:"2013/10/11"},{id:206,region:"North America",country:"United States",city:"Los Angeles",amount:4625,date:"2013/10/02"},{id:207,region:"North America",country:"United States",city:"Denver",amount:3510,date:"2013/10/24"},{id:208,region:"North America",country:"Canada",city:"Vancouver",amount:2730,date:"2013/10/15"},{id:209,region:"North America",country:"Canada",city:"Edmonton",amount:2070,date:"2013/10/15"},{id:210,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2320,date:"2013/10/18"},{id:211,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4260,date:"2013/10/24"},{id:212,region:"South America",country:"Paraguay",city:"Asuncion",amount:840,date:"2013/10/18"},{id:213,region:"Europe",country:"United Kingdom",city:"London",amount:7300,date:"2013/10/24"},{id:214,region:"Europe",country:"Germany",city:"Berlin",amount:5950,date:"2013/10/11"},{id:215,region:"Europe",country:"Spain",city:"Madrid",amount:3220,date:"2013/10/25"},{id:216,region:"Europe",country:"Russian Federation",city:"Moscow",amount:3480,date:"2013/10/08"},{id:217,region:"Asia",country:"China",city:"Beijing",amount:4830,date:"2013/10/26"},{id:218,region:"Asia",country:"Japan",city:"Tokyo",amount:4470,date:"2013/10/05"},{id:219,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3675,date:"2013/10/23"},{id:220,region:"Australia",country:"Australia",city:"Sydney",amount:4260,date:"2013/10/01"},{id:221,region:"Australia",country:"Australia",city:"Melbourne",amount:4245,date:"2013/10/26"},{id:222,region:"Africa",country:"South Africa",city:"Pretoria",amount:1470,date:"2013/10/01"},{id:223,region:"Africa",country:"Egypt",city:"Cairo",amount:1810,date:"2013/10/02"},{id:224,region:"North America",country:"United States",city:"New York",amount:600,date:"2013/10/23"},{id:225,region:"North America",country:"United States",city:"New York",amount:7500,date:"2013/11/03"},{id:226,region:"North America",country:"United States",city:"Los Angeles",amount:4625,date:"2013/11/02"},{id:227,region:"North America",country:"United States",city:"Denver",amount:2625,date:"2013/11/09"},{id:228,region:"North America",country:"Canada",city:"Vancouver",amount:1440,date:"2013/11/15"},{id:229,region:"North America",country:"Canada",city:"Edmonton",amount:2420,date:"2013/11/15"},{id:230,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:4180,date:"2013/11/15"},{id:231,region:"South America",country:"Argentina",city:"Buenos Aires",amount:3720,date:"2013/11/25"},{id:232,region:"South America",country:"Paraguay",city:"Asuncion",amount:2730,date:"2013/11/08"},{id:233,region:"Europe",country:"United Kingdom",city:"London",amount:3775,date:"2013/11/17"},{id:234,region:"Europe",country:"Germany",city:"Berlin",amount:3525,date:"2013/11/15"},{id:235,region:"Europe",country:"Spain",city:"Madrid",amount:5320,date:"2013/11/08"},{id:236,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5340,date:"2013/11/13"},{id:237,region:"Asia",country:"China",city:"Beijing",amount:8850,date:"2013/11/01"},{id:238,region:"Asia",country:"Japan",city:"Tokyo",amount:7050,date:"2013/11/14"},{id:239,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4200,date:"2013/11/18"},{id:240,region:"Australia",country:"Australia",city:"Sydney",amount:4960,date:"2013/11/04"},{id:241,region:"Australia",country:"Australia",city:"Melbourne",amount:2280,date:"2013/11/13"},{id:242,region:"Africa",country:"South Africa",city:"Pretoria",amount:590,date:"2013/11/11"},{id:243,region:"Africa",country:"Egypt",city:"Cairo",amount:810,date:"2013/11/12"},{id:244,region:"Europe",country:"United Kingdom",city:"London",amount:2625,date:"2013/11/07"},{id:245,region:"North America",country:"United States",city:"New York",amount:8280,date:"2013/12/01"},{id:246,region:"North America",country:"United States",city:"Los Angeles",amount:5650,date:"2013/12/19"},{id:247,region:"North America",country:"United States",city:"Denver",amount:2760,date:"2013/12/14"},{id:248,region:"North America",country:"Canada",city:"Vancouver",amount:2670,date:"2013/12/03"},{id:249,region:"North America",country:"Canada",city:"Edmonton",amount:2520,date:"2013/12/20"},{id:250,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:4080,date:"2013/12/21"},{id:251,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4140,date:"2013/12/22"},{id:252,region:"South America",country:"Paraguay",city:"Asuncion",amount:390,date:"2013/12/04"},{id:253,region:"Europe",country:"United Kingdom",city:"London",amount:1400,date:"2013/12/19"},{id:254,region:"Europe",country:"Germany",city:"Berlin",amount:7275,date:"2013/12/22"},{id:255,region:"Europe",country:"Spain",city:"Madrid",amount:4100,date:"2013/12/20"},{id:256,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5520,date:"2013/12/25"},{id:257,region:"Asia",country:"China",city:"Beijing",amount:9210,date:"2013/12/24"},{id:258,region:"Asia",country:"Japan",city:"Tokyo",amount:7290,date:"2013/12/05"},{id:259,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:625,date:"2013/12/22"},{id:260,region:"Australia",country:"Australia",city:"Sydney",amount:4460,date:"2013/12/12"},{id:261,region:"Australia",country:"Australia",city:"Melbourne",amount:3825,date:"2013/12/13"},{id:262,region:"Africa",country:"South Africa",city:"Pretoria",amount:2850,date:"2013/12/17"},{id:263,region:"Africa",country:"Egypt",city:"Cairo",amount:2780,date:"2013/12/07"},{id:264,region:"North America",country:"United States",city:"New York",amount:840,date:"2013/12/18"},{id:265,region:"Africa",country:"South Africa",city:"Pretoria",amount:2970,date:"2013/12/23"},{id:266,region:"North America",country:"Canada",city:"Vancouver",amount:945,date:"2013/12/06"},{id:267,region:"North America",country:"United States",city:"Denver",amount:2625,date:"2013/12/04"},{id:268,region:"North America",country:"Canada",city:"Vancouver",amount:390,date:"2013/12/01"},{id:269,region:"Asia",country:"China",city:"Beijing",amount:2250,date:"2013/12/02"},{id:270,region:"North America",country:"United States",city:"New York",amount:7710,date:"2014/01/18"},{id:271,region:"North America",country:"United States",city:"Los Angeles",amount:7975,date:"2014/01/10"},{id:272,region:"North America",country:"United States",city:"Denver",amount:3285,date:"2014/01/13"},{id:273,region:"North America",country:"Canada",city:"Vancouver",amount:2580,date:"2014/01/22"},{id:274,region:"North America",country:"Canada",city:"Edmonton",amount:2160,date:"2014/01/26"},{id:275,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:1100,date:"2014/01/25"},{id:276,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4425,date:"2014/01/21"},{id:277,region:"South America",country:"Paraguay",city:"Asuncion",amount:1360,date:"2014/01/22"},{id:278,region:"Europe",country:"United Kingdom",city:"London",amount:3250,date:"2014/01/14"},{id:279,region:"Europe",country:"Germany",city:"Berlin",amount:5550,date:"2014/01/21"},{id:280,region:"Europe",country:"Spain",city:"Madrid",amount:2860,date:"2014/01/25"},{id:281,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5320,date:"2014/01/08"},{id:282,region:"Asia",country:"China",city:"Beijing",amount:4050,date:"2014/01/14"},{id:283,region:"Asia",country:"Japan",city:"Tokyo",amount:3450,date:"2014/01/24"},{id:284,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:5425,date:"2014/01/11"},{id:285,region:"Australia",country:"Australia",city:"Sydney",amount:4860,date:"2014/01/12"},{id:286,region:"Australia",country:"Australia",city:"Melbourne",amount:4695,date:"2014/01/16"},{id:287,region:"Africa",country:"South Africa",city:"Pretoria",amount:610,date:"2014/01/05"},{id:288,region:"Africa",country:"Egypt",city:"Cairo",amount:1580,date:"2014/01/15"},{id:289,region:"North America",country:"United States",city:"New York",amount:3780,date:"2014/02/18"},{id:290,region:"North America",country:"United States",city:"Los Angeles",amount:5400,date:"2014/02/21"},{id:291,region:"North America",country:"United States",city:"Denver",amount:630,date:"2014/02/18"},{id:292,region:"North America",country:"Canada",city:"Vancouver",amount:3960,date:"2014/02/04"},{id:293,region:"North America",country:"Canada",city:"Edmonton",amount:2010,date:"2014/02/25"},{id:294,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:5e3,date:"2014/02/01"},{id:295,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1995,date:"2014/02/20"},{id:296,region:"South America",country:"Paraguay",city:"Asuncion",amount:860,date:"2014/02/12"},{id:297,region:"Europe",country:"United Kingdom",city:"London",amount:2150,date:"2014/02/10"},{id:298,region:"Europe",country:"Germany",city:"Berlin",amount:4050,date:"2014/02/06"},{id:299,region:"Europe",country:"Spain",city:"Madrid",amount:2960,date:"2014/02/18"},{id:300,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1780,date:"2014/02/26"},{id:301,region:"Asia",country:"China",city:"Beijing",amount:8700,date:"2014/02/03"},{id:302,region:"Asia",country:"Japan",city:"Tokyo",amount:3390,date:"2014/02/03"},{id:303,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4425,date:"2014/02/15"},{id:304,region:"Australia",country:"Australia",city:"Sydney",amount:1180,date:"2014/02/23"},{id:305,region:"Australia",country:"Australia",city:"Melbourne",amount:360,date:"2014/02/08"},{id:306,region:"Africa",country:"South Africa",city:"Pretoria",amount:2310,date:"2014/02/13"},{id:307,region:"Africa",country:"Egypt",city:"Cairo",amount:1770,date:"2014/02/20"},{id:308,region:"Asia",country:"Japan",city:"Tokyo",amount:3060,date:"2014/02/26"},{id:309,region:"North America",country:"Canada",city:"Edmonton",amount:1750,date:"2014/02/12"},{id:310,region:"North America",country:"United States",city:"New York",amount:2280,date:"2014/03/09"},{id:311,region:"North America",country:"United States",city:"Los Angeles",amount:7600,date:"2014/03/25"},{id:312,region:"North America",country:"United States",city:"Denver",amount:1035,date:"2014/03/23"},{id:313,region:"North America",country:"Canada",city:"Vancouver",amount:1245,date:"2014/03/01"},{id:314,region:"North America",country:"Canada",city:"Edmonton",amount:2860,date:"2014/03/19"},{id:315,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:440,date:"2014/03/19"},{id:316,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4665,date:"2014/03/02"},{id:317,region:"South America",country:"Paraguay",city:"Asuncion",amount:2270,date:"2014/03/15"},{id:318,region:"Europe",country:"United Kingdom",city:"London",amount:5e3,date:"2014/03/09"},{id:319,region:"Europe",country:"Germany",city:"Berlin",amount:5100,date:"2014/03/23"},{id:320,region:"Europe",country:"Spain",city:"Madrid",amount:2120,date:"2014/03/11"},{id:321,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5140,date:"2014/03/05"},{id:322,region:"Asia",country:"China",city:"Beijing",amount:6210,date:"2014/03/19"},{id:323,region:"Asia",country:"Japan",city:"Tokyo",amount:9510,date:"2014/03/19"},{id:324,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:7600,date:"2014/03/21"},{id:325,region:"Australia",country:"Australia",city:"Sydney",amount:5420,date:"2014/03/15"},{id:326,region:"Australia",country:"Australia",city:"Melbourne",amount:1980,date:"2014/03/05"},{id:327,region:"Africa",country:"South Africa",city:"Pretoria",amount:1820,date:"2014/03/07"},{id:328,region:"Africa",country:"Egypt",city:"Cairo",amount:1670,date:"2014/03/21"},{id:329,region:"Europe",country:"Germany",city:"Berlin",amount:4800,date:"2014/03/08"},{id:330,region:"North America",country:"Canada",city:"Vancouver",amount:2925,date:"2014/03/03"},{id:331,region:"North America",country:"United States",city:"New York",amount:2940,date:"2014/04/11"},{id:332,region:"North America",country:"United States",city:"Los Angeles",amount:3525,date:"2014/04/13"},{id:333,region:"North America",country:"United States",city:"Denver",amount:2475,date:"2014/04/22"},{id:334,region:"North America",country:"Canada",city:"Vancouver",amount:3315,date:"2014/04/08"},{id:335,region:"North America",country:"Canada",city:"Edmonton",amount:3140,date:"2014/04/07"},{id:336,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2520,date:"2014/04/01"},{id:337,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1200,date:"2014/04/10"},{id:338,region:"South America",country:"Paraguay",city:"Asuncion",amount:2060,date:"2014/04/21"},{id:339,region:"Europe",country:"United Kingdom",city:"London",amount:7875,date:"2014/04/02"},{id:340,region:"Europe",country:"Germany",city:"Berlin",amount:1450,date:"2014/04/07"},{id:341,region:"Europe",country:"Spain",city:"Madrid",amount:2640,date:"2014/04/22"},{id:342,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1960,date:"2014/04/16"},{id:343,region:"Asia",country:"China",city:"Beijing",amount:2250,date:"2014/04/23"},{id:344,region:"Asia",country:"Japan",city:"Tokyo",amount:4500,date:"2014/04/05"},{id:345,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:5050,date:"2014/04/11"},{id:346,region:"Australia",country:"Australia",city:"Sydney",amount:2940,date:"2014/04/02"},{id:347,region:"Australia",country:"Australia",city:"Melbourne",amount:2880,date:"2014/04/14"},{id:348,region:"Africa",country:"South Africa",city:"Pretoria",amount:1050,date:"2014/04/19"},{id:349,region:"Africa",country:"Egypt",city:"Cairo",amount:1850,date:"2014/04/02"},{id:350,region:"Europe",country:"Spain",city:"Madrid",amount:3160,date:"2014/04/01"},{id:351,region:"Europe",country:"United Kingdom",city:"London",amount:875,date:"2014/04/04"},{id:352,region:"Europe",country:"Russian Federation",city:"Moscow",amount:3200,date:"2014/04/08"},{id:353,region:"Australia",country:"Australia",city:"Melbourne",amount:1380,date:"2014/04/21"},{id:354,region:"North America",country:"Canada",city:"Edmonton",amount:3060,date:"2014/04/06"},{id:355,region:"North America",country:"United States",city:"New York",amount:6690,date:"2014/05/19"},{id:356,region:"North America",country:"United States",city:"Los Angeles",amount:4525,date:"2014/05/15"},{id:357,region:"North America",country:"United States",city:"Denver",amount:4665,date:"2014/05/10"},{id:358,region:"North America",country:"Canada",city:"Vancouver",amount:4530,date:"2014/05/18"},{id:359,region:"North America",country:"Canada",city:"Edmonton",amount:1330,date:"2014/05/08"},{id:360,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:1720,date:"2014/05/20"},{id:361,region:"South America",country:"Argentina",city:"Buenos Aires",amount:3750,date:"2014/05/16"},{id:362,region:"South America",country:"Paraguay",city:"Asuncion",amount:1290,date:"2014/05/10"},{id:363,region:"Europe",country:"United Kingdom",city:"London",amount:4925,date:"2014/05/14"},{id:364,region:"Europe",country:"Germany",city:"Berlin",amount:4300,date:"2014/05/22"},{id:365,region:"Europe",country:"Spain",city:"Madrid",amount:5740,date:"2014/05/08"},{id:366,region:"Europe",country:"Russian Federation",city:"Moscow",amount:3760,date:"2014/05/18"},{id:367,region:"Asia",country:"China",city:"Beijing",amount:7920,date:"2014/05/22"},{id:368,region:"Asia",country:"Japan",city:"Tokyo",amount:1440,date:"2014/05/21"},{id:369,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:5975,date:"2014/05/25"},{id:370,region:"Australia",country:"Australia",city:"Sydney",amount:4440,date:"2014/05/05"},{id:371,region:"Australia",country:"Australia",city:"Melbourne",amount:2310,date:"2014/05/24"},{id:372,region:"Africa",country:"South Africa",city:"Pretoria",amount:2250,date:"2014/05/06"},{id:373,region:"Africa",country:"Egypt",city:"Cairo",amount:2320,date:"2014/05/14"},{id:374,region:"Asia",country:"China",city:"Beijing",amount:8370,date:"2014/05/06"},{id:375,region:"North America",country:"United States",city:"New York",amount:5190,date:"2014/06/26"},{id:376,region:"North America",country:"United States",city:"Los Angeles",amount:925,date:"2014/06/04"},{id:377,region:"North America",country:"United States",city:"Denver",amount:3240,date:"2014/06/20"},{id:378,region:"North America",country:"Canada",city:"Vancouver",amount:3180,date:"2014/06/23"},{id:379,region:"North America",country:"Canada",city:"Edmonton",amount:780,date:"2014/06/13"},{id:380,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:4680,date:"2014/06/08"},{id:381,region:"South America",country:"Argentina",city:"Buenos Aires",amount:2475,date:"2014/06/25"},{id:382,region:"South America",country:"Paraguay",city:"Asuncion",amount:1920,date:"2014/06/20"},{id:383,region:"Europe",country:"United Kingdom",city:"London",amount:7500,date:"2014/06/25"},{id:384,region:"Europe",country:"Germany",city:"Berlin",amount:5025,date:"2014/06/26"},{id:385,region:"Europe",country:"Spain",city:"Madrid",amount:2400,date:"2014/06/08"},{id:386,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1720,date:"2014/06/09"},{id:387,region:"Asia",country:"China",city:"Beijing",amount:2880,date:"2014/06/21"},{id:388,region:"Asia",country:"Japan",city:"Tokyo",amount:5430,date:"2014/06/03"},{id:389,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4475,date:"2014/06/19"},{id:390,region:"Australia",country:"Australia",city:"Sydney",amount:1420,date:"2014/06/20"},{id:391,region:"Australia",country:"Australia",city:"Melbourne",amount:2670,date:"2014/06/25"},{id:392,region:"Africa",country:"South Africa",city:"Pretoria",amount:1930,date:"2014/06/02"},{id:393,region:"Africa",country:"Egypt",city:"Cairo",amount:580,date:"2014/06/25"},{id:394,region:"Africa",country:"Egypt",city:"Cairo",amount:1620,date:"2014/06/12"},{id:395,region:"Australia",country:"Australia",city:"Melbourne",amount:4530,date:"2014/06/02"},{id:396,region:"Europe",country:"Germany",city:"Berlin",amount:6025,date:"2014/06/23"},{id:397,region:"North America",country:"United States",city:"New York",amount:3540,date:"2014/07/21"},{id:398,region:"North America",country:"United States",city:"Los Angeles",amount:3e3,date:"2014/07/01"},{id:399,region:"North America",country:"United States",city:"Denver",amount:3240,date:"2014/07/26"},{id:400,region:"North America",country:"Canada",city:"Vancouver",amount:2265,date:"2014/07/22"},{id:401,region:"North America",country:"Canada",city:"Edmonton",amount:400,date:"2014/07/09"},{id:402,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:1460,date:"2014/07/08"},{id:403,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1620,date:"2014/07/18"},{id:404,region:"South America",country:"Paraguay",city:"Asuncion",amount:2400,date:"2014/07/25"},{id:405,region:"Europe",country:"United Kingdom",city:"London",amount:5275,date:"2014/07/04"},{id:406,region:"Europe",country:"Germany",city:"Berlin",amount:4475,date:"2014/07/03"},{id:407,region:"Europe",country:"Spain",city:"Madrid",amount:3980,date:"2014/07/21"},{id:408,region:"Europe",country:"Russian Federation",city:"Moscow",amount:5240,date:"2014/07/11"},{id:409,region:"Asia",country:"China",city:"Beijing",amount:1200,date:"2014/07/21"},{id:410,region:"Asia",country:"Japan",city:"Tokyo",amount:5700,date:"2014/07/18"},{id:411,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:5575,date:"2014/07/01"},{id:412,region:"Australia",country:"Australia",city:"Sydney",amount:2160,date:"2014/07/02"},{id:413,region:"Australia",country:"Australia",city:"Melbourne",amount:960,date:"2014/07/09"},{id:414,region:"Africa",country:"South Africa",city:"Pretoria",amount:1280,date:"2014/07/04"},{id:415,region:"Africa",country:"Egypt",city:"Cairo",amount:1040,date:"2014/07/02"},{id:416,region:"Asia",country:"China",city:"Beijing",amount:5520,date:"2014/07/21"},{id:417,region:"South America",country:"Paraguay",city:"Asuncion",amount:1760,date:"2014/07/25"},{id:418,region:"North America",country:"Canada",city:"Vancouver",amount:4080,date:"2014/07/07"},{id:419,region:"Africa",country:"Egypt",city:"Cairo",amount:1e3,date:"2014/07/21"},{id:420,region:"Asia",country:"China",city:"Beijing",amount:3270,date:"2014/07/12"},{id:421,region:"North America",country:"United States",city:"New York",amount:1770,date:"2014/08/23"},{id:422,region:"North America",country:"United States",city:"Los Angeles",amount:2700,date:"2014/08/09"},{id:423,region:"North America",country:"United States",city:"Denver",amount:2175,date:"2014/08/03"},{id:424,region:"North America",country:"Canada",city:"Vancouver",amount:3375,date:"2014/08/11"},{id:425,region:"North America",country:"Canada",city:"Edmonton",amount:2040,date:"2014/08/01"},{id:426,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3e3,date:"2014/08/21"},{id:427,region:"South America",country:"Argentina",city:"Buenos Aires",amount:3900,date:"2014/08/16"},{id:428,region:"South America",country:"Paraguay",city:"Asuncion",amount:1370,date:"2014/08/20"},{id:429,region:"Europe",country:"United Kingdom",city:"London",amount:5700,date:"2014/08/01"},{id:430,region:"Europe",country:"Germany",city:"Berlin",amount:1275,date:"2014/08/22"},{id:431,region:"Europe",country:"Spain",city:"Madrid",amount:4060,date:"2014/08/13"},{id:432,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2320,date:"2014/08/18"},{id:433,region:"Asia",country:"China",city:"Beijing",amount:7590,date:"2014/08/24"},{id:434,region:"Asia",country:"Japan",city:"Tokyo",amount:4560,date:"2014/08/20"},{id:435,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:7575,date:"2014/08/20"},{id:436,region:"Australia",country:"Australia",city:"Sydney",amount:700,date:"2014/08/25"},{id:437,region:"Australia",country:"Australia",city:"Melbourne",amount:2400,date:"2014/08/16"},{id:438,region:"Africa",country:"South Africa",city:"Pretoria",amount:1390,date:"2014/08/15"},{id:439,region:"Africa",country:"Egypt",city:"Cairo",amount:1320,date:"2014/08/09"},{id:440,region:"North America",country:"United States",city:"Denver",amount:1680,date:"2014/08/09"},{id:441,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1500,date:"2014/08/11"},{id:442,region:"North America",country:"United States",city:"New York",amount:6150,date:"2014/09/21"},{id:443,region:"North America",country:"United States",city:"Los Angeles",amount:3675,date:"2014/09/02"},{id:444,region:"North America",country:"United States",city:"Denver",amount:2250,date:"2014/09/05"},{id:445,region:"North America",country:"Canada",city:"Vancouver",amount:3585,date:"2014/09/10"},{id:446,region:"North America",country:"Canada",city:"Edmonton",amount:1470,date:"2014/09/01"},{id:447,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2260,date:"2014/09/02"},{id:448,region:"South America",country:"Argentina",city:"Buenos Aires",amount:3765,date:"2014/09/03"},{id:449,region:"South America",country:"Paraguay",city:"Asuncion",amount:1640,date:"2014/09/04"},{id:450,region:"Europe",country:"United Kingdom",city:"London",amount:4475,date:"2014/09/09"},{id:451,region:"Europe",country:"Germany",city:"Berlin",amount:5975,date:"2014/09/04"},{id:452,region:"Europe",country:"Spain",city:"Madrid",amount:1100,date:"2014/09/16"},{id:453,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1320,date:"2014/09/18"},{id:454,region:"Asia",country:"China",city:"Beijing",amount:8610,date:"2014/09/19"},{id:455,region:"Asia",country:"Japan",city:"Tokyo",amount:9210,date:"2014/09/09"},{id:456,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3700,date:"2014/09/01"},{id:457,region:"Australia",country:"Australia",city:"Sydney",amount:3620,date:"2014/09/19"},{id:458,region:"Australia",country:"Australia",city:"Melbourne",amount:4275,date:"2014/09/01"},{id:459,region:"Africa",country:"South Africa",city:"Pretoria",amount:2370,date:"2014/09/03"},{id:460,region:"Africa",country:"Egypt",city:"Cairo",amount:1870,date:"2014/09/10"},{id:461,region:"Africa",country:"South Africa",city:"Pretoria",amount:2070,date:"2014/09/25"},{id:462,region:"Europe",country:"Germany",city:"Berlin",amount:5025,date:"2014/09/19"},{id:463,region:"North America",country:"United States",city:"New York",amount:1080,date:"2014/10/15"},{id:464,region:"North America",country:"United States",city:"Los Angeles",amount:1400,date:"2014/10/22"},{id:465,region:"North America",country:"United States",city:"Denver",amount:4260,date:"2014/10/01"},{id:466,region:"North America",country:"Canada",city:"Vancouver",amount:2745,date:"2014/10/01"},{id:467,region:"North America",country:"Canada",city:"Edmonton",amount:2920,date:"2014/10/23"},{id:468,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3520,date:"2014/10/11"},{id:469,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4035,date:"2014/10/20"},{id:470,region:"South America",country:"Paraguay",city:"Asuncion",amount:1730,date:"2014/10/05"},{id:471,region:"Europe",country:"United Kingdom",city:"London",amount:975,date:"2014/10/06"},{id:472,region:"Europe",country:"Germany",city:"Berlin",amount:5700,date:"2014/10/06"},{id:473,region:"Europe",country:"Spain",city:"Madrid",amount:5080,date:"2014/10/18"},{id:474,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2940,date:"2014/10/24"},{id:475,region:"Asia",country:"China",city:"Beijing",amount:2670,date:"2014/10/04"},{id:476,region:"Asia",country:"Japan",city:"Tokyo",amount:1230,date:"2014/10/11"},{id:477,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:600,date:"2014/10/08"},{id:478,region:"Australia",country:"Australia",city:"Sydney",amount:3700,date:"2014/10/08"},{id:479,region:"Australia",country:"Australia",city:"Melbourne",amount:3375,date:"2014/10/11"},{id:480,region:"Africa",country:"South Africa",city:"Pretoria",amount:1500,date:"2014/10/17"},{id:481,region:"Africa",country:"Egypt",city:"Cairo",amount:370,date:"2014/10/05"},{id:482,region:"South America",country:"Paraguay",city:"Asuncion",amount:2340,date:"2014/10/16"},{id:483,region:"Asia",country:"Japan",city:"Tokyo",amount:1080,date:"2014/10/08"},{id:484,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:2775,date:"2014/10/21"},{id:485,region:"North America",country:"United States",city:"New York",amount:4380,date:"2014/11/09"},{id:486,region:"North America",country:"United States",city:"Los Angeles",amount:5500,date:"2014/11/21"},{id:487,region:"North America",country:"United States",city:"Denver",amount:1920,date:"2014/11/24"},{id:488,region:"North America",country:"Canada",city:"Vancouver",amount:765,date:"2014/11/24"},{id:489,region:"North America",country:"Canada",city:"Edmonton",amount:370,date:"2014/11/18"},{id:490,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3500,date:"2014/11/25"},{id:491,region:"South America",country:"Argentina",city:"Buenos Aires",amount:825,date:"2014/11/09"},{id:492,region:"South America",country:"Paraguay",city:"Asuncion",amount:490,date:"2014/11/23"},{id:493,region:"Europe",country:"United Kingdom",city:"London",amount:7075,date:"2014/11/20"},{id:494,region:"Europe",country:"Germany",city:"Berlin",amount:1350,date:"2014/11/25"},{id:495,region:"Europe",country:"Spain",city:"Madrid",amount:1440,date:"2014/11/15"},{id:496,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2820,date:"2014/11/13"},{id:497,region:"Asia",country:"China",city:"Beijing",amount:2280,date:"2014/11/12"},{id:498,region:"Asia",country:"Japan",city:"Tokyo",amount:1110,date:"2014/11/03"},{id:499,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:1150,date:"2014/11/23"},{id:500,region:"Australia",country:"Australia",city:"Sydney",amount:2040,date:"2014/11/20"},{id:501,region:"Australia",country:"Australia",city:"Melbourne",amount:3090,date:"2014/11/24"},{id:502,region:"Africa",country:"South Africa",city:"Pretoria",amount:1940,date:"2014/11/24"},{id:503,region:"Africa",country:"Egypt",city:"Cairo",amount:3090,date:"2014/11/16"},{id:504,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4900,date:"2014/11/05"},{id:505,region:"North America",country:"United States",city:"Denver",amount:3465,date:"2014/11/07"},{id:506,region:"Africa",country:"South Africa",city:"Pretoria",amount:1110,date:"2014/11/20"},{id:507,region:"Australia",country:"Australia",city:"Melbourne",amount:1650,date:"2014/11/02"},{id:508,region:"North America",country:"United States",city:"New York",amount:5280,date:"2014/12/04"},{id:509,region:"North America",country:"United States",city:"Los Angeles",amount:3075,date:"2014/12/02"},{id:510,region:"North America",country:"United States",city:"Denver",amount:690,date:"2014/12/07"},{id:511,region:"North America",country:"Canada",city:"Vancouver",amount:1305,date:"2014/12/15"},{id:512,region:"North America",country:"Canada",city:"Edmonton",amount:1970,date:"2014/12/01"},{id:513,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3760,date:"2014/12/18"},{id:514,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1920,date:"2014/12/22"},{id:515,region:"South America",country:"Paraguay",city:"Asuncion",amount:1360,date:"2014/12/12"},{id:516,region:"Europe",country:"United Kingdom",city:"London",amount:2525,date:"2014/12/06"},{id:517,region:"Europe",country:"Germany",city:"Berlin",amount:5575,date:"2014/12/20"},{id:518,region:"Europe",country:"Spain",city:"Madrid",amount:5560,date:"2014/12/10"},{id:519,region:"Europe",country:"Russian Federation",city:"Moscow",amount:4880,date:"2014/12/13"},{id:520,region:"Asia",country:"China",city:"Beijing",amount:8850,date:"2014/12/03"},{id:521,region:"Asia",country:"Japan",city:"Tokyo",amount:2820,date:"2014/12/10"},{id:522,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:4e3,date:"2014/12/12"},{id:523,region:"Australia",country:"Australia",city:"Sydney",amount:5820,date:"2014/12/02"},{id:524,region:"Australia",country:"Australia",city:"Melbourne",amount:1275,date:"2014/12/12"},{id:525,region:"Africa",country:"South Africa",city:"Pretoria",amount:1310,date:"2014/12/01"},{id:526,region:"Africa",country:"Egypt",city:"Cairo",amount:2180,date:"2014/12/26"},{id:527,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4470,date:"2014/12/17"},{id:528,region:"North America",country:"Canada",city:"Edmonton",amount:2990,date:"2014/12/15"},{id:529,region:"Europe",country:"United Kingdom",city:"London",amount:7650,date:"2014/12/18"},{id:530,region:"Asia",country:"Japan",city:"Tokyo",amount:780,date:"2014/12/02"},{id:531,region:"South America",country:"Paraguay",city:"Asuncion",amount:2970,date:"2014/12/13"},{id:532,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1155,date:"2014/12/05"},{id:533,region:"North America",country:"United States",city:"New York",amount:4470,date:"2015/01/10"},{id:534,region:"North America",country:"United States",city:"Los Angeles",amount:1125,date:"2015/01/21"},{id:535,region:"North America",country:"United States",city:"Denver",amount:645,date:"2015/01/17"},{id:536,region:"North America",country:"Canada",city:"Vancouver",amount:675,date:"2015/01/05"},{id:537,region:"North America",country:"Canada",city:"Edmonton",amount:2840,date:"2015/01/05"},{id:538,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2660,date:"2015/01/04"},{id:539,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4560,date:"2015/01/12"},{id:540,region:"South America",country:"Paraguay",city:"Asuncion",amount:2880,date:"2015/01/20"},{id:541,region:"Europe",country:"United Kingdom",city:"London",amount:500,date:"2015/01/02"},{id:542,region:"Europe",country:"Germany",city:"Berlin",amount:3925,date:"2015/01/07"},{id:543,region:"Europe",country:"Spain",city:"Madrid",amount:5660,date:"2015/01/18"},{id:544,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1460,date:"2015/01/22"},{id:545,region:"Asia",country:"China",city:"Beijing",amount:5040,date:"2015/01/10"},{id:546,region:"Asia",country:"Japan",city:"Tokyo",amount:4830,date:"2015/01/13"},{id:547,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3075,date:"2015/01/22"},{id:548,region:"Australia",country:"Australia",city:"Sydney",amount:3120,date:"2015/01/14"},{id:549,region:"Australia",country:"Australia",city:"Melbourne",amount:3525,date:"2015/01/23"},{id:550,region:"Africa",country:"South Africa",city:"Pretoria",amount:1930,date:"2015/01/09"},{id:551,region:"Africa",country:"Egypt",city:"Cairo",amount:2890,date:"2015/01/02"},{id:552,region:"South America",country:"Argentina",city:"Buenos Aires",amount:1545,date:"2015/01/17"},{id:553,region:"Australia",country:"Australia",city:"Melbourne",amount:3630,date:"2015/01/20"},{id:554,region:"North America",country:"Canada",city:"Vancouver",amount:4035,date:"2015/01/14"},{id:555,region:"Australia",country:"Australia",city:"Melbourne",amount:345,date:"2015/01/06"},{id:556,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:7e3,date:"2015/01/07"},{id:557,region:"North America",country:"United States",city:"New York",amount:3060,date:"2015/02/13"},{id:558,region:"North America",country:"United States",city:"Los Angeles",amount:6425,date:"2015/02/04"},{id:559,region:"North America",country:"United States",city:"Denver",amount:615,date:"2015/02/22"},{id:560,region:"North America",country:"Canada",city:"Vancouver",amount:1755,date:"2015/02/07"},{id:561,region:"North America",country:"Canada",city:"Edmonton",amount:1540,date:"2015/02/21"},{id:562,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:2820,date:"2015/02/24"},{id:563,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4305,date:"2015/02/10"},{id:564,region:"South America",country:"Paraguay",city:"Asuncion",amount:1520,date:"2015/02/26"},{id:565,region:"Europe",country:"United Kingdom",city:"London",amount:4725,date:"2015/02/18"},{id:566,region:"Europe",country:"Germany",city:"Berlin",amount:6750,date:"2015/02/16"},{id:567,region:"Europe",country:"Spain",city:"Madrid",amount:5540,date:"2015/02/07"},{id:568,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1880,date:"2015/02/24"},{id:569,region:"Asia",country:"China",city:"Beijing",amount:6180,date:"2015/02/26"},{id:570,region:"Asia",country:"Japan",city:"Tokyo",amount:9300,date:"2015/02/03"},{id:571,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3700,date:"2015/02/26"},{id:572,region:"Australia",country:"Australia",city:"Sydney",amount:740,date:"2015/02/01"},{id:573,region:"Australia",country:"Australia",city:"Melbourne",amount:4755,date:"2015/02/23"},{id:574,region:"Africa",country:"South Africa",city:"Pretoria",amount:2570,date:"2015/02/20"},{id:575,region:"Africa",country:"Egypt",city:"Cairo",amount:2860,date:"2015/02/19"},{id:576,region:"North America",country:"United States",city:"New York",amount:5430,date:"2015/03/21"},{id:577,region:"North America",country:"United States",city:"Los Angeles",amount:4525,date:"2015/03/21"},{id:578,region:"North America",country:"United States",city:"Denver",amount:1515,date:"2015/03/10"},{id:579,region:"North America",country:"Canada",city:"Vancouver",amount:630,date:"2015/03/15"},{id:580,region:"North America",country:"Canada",city:"Edmonton",amount:1310,date:"2015/03/01"},{id:581,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3200,date:"2015/03/17"},{id:582,region:"South America",country:"Argentina",city:"Buenos Aires",amount:3945,date:"2015/03/20"},{id:583,region:"South America",country:"Paraguay",city:"Asuncion",amount:2990,date:"2015/03/18"},{id:584,region:"Europe",country:"United Kingdom",city:"London",amount:1125,date:"2015/03/22"},{id:585,region:"Europe",country:"Germany",city:"Berlin",amount:7950,date:"2015/03/17"},{id:586,region:"Europe",country:"Spain",city:"Madrid",amount:2960,date:"2015/03/25"},{id:587,region:"Europe",country:"Russian Federation",city:"Moscow",amount:6300,date:"2015/03/20"},{id:588,region:"Asia",country:"China",city:"Beijing",amount:8670,date:"2015/03/07"},{id:589,region:"Asia",country:"Japan",city:"Tokyo",amount:3930,date:"2015/03/23"},{id:590,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:6975,date:"2015/03/02"},{id:591,region:"Australia",country:"Australia",city:"Sydney",amount:4220,date:"2015/03/17"},{id:592,region:"Australia",country:"Australia",city:"Melbourne",amount:3090,date:"2015/03/25"},{id:593,region:"Africa",country:"South Africa",city:"Pretoria",amount:2380,date:"2015/03/01"},{id:594,region:"Africa",country:"Egypt",city:"Cairo",amount:1510,date:"2015/03/07"},{id:595,region:"Asia",country:"Japan",city:"Tokyo",amount:1020,date:"2015/03/19"},{id:596,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:6700,date:"2015/03/26"},{id:597,region:"North America",country:"United States",city:"New York",amount:4890,date:"2015/04/02"},{id:598,region:"North America",country:"United States",city:"Los Angeles",amount:7225,date:"2015/04/13"},{id:599,region:"North America",country:"United States",city:"Denver",amount:795,date:"2015/04/07"},{id:600,region:"North America",country:"Canada",city:"Vancouver",amount:1785,date:"2015/04/03"},{id:601,region:"North America",country:"Canada",city:"Edmonton",amount:1850,date:"2015/04/03"},{id:602,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:5120,date:"2015/04/12"},{id:603,region:"South America",country:"Argentina",city:"Buenos Aires",amount:615,date:"2015/04/07"},{id:604,region:"South America",country:"Paraguay",city:"Asuncion",amount:2860,date:"2015/04/05"},{id:605,region:"Europe",country:"United Kingdom",city:"London",amount:1525,date:"2015/04/24"},{id:606,region:"Europe",country:"Germany",city:"Berlin",amount:7425,date:"2015/04/15"},{id:607,region:"Europe",country:"Spain",city:"Madrid",amount:6080,date:"2015/04/13"},{id:608,region:"Europe",country:"Russian Federation",city:"Moscow",amount:2940,date:"2015/04/04"},{id:609,region:"Asia",country:"China",city:"Beijing",amount:5580,date:"2015/04/16"},{id:610,region:"Asia",country:"Japan",city:"Tokyo",amount:9390,date:"2015/04/19"},{id:611,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3200,date:"2015/04/26"},{id:612,region:"Australia",country:"Australia",city:"Sydney",amount:4380,date:"2015/04/05"},{id:613,region:"Australia",country:"Australia",city:"Melbourne",amount:4725,date:"2015/04/06"},{id:614,region:"Africa",country:"South Africa",city:"Pretoria",amount:930,date:"2015/04/25"},{id:615,region:"Africa",country:"Egypt",city:"Cairo",amount:1910,date:"2015/04/05"},{id:616,region:"Europe",country:"United Kingdom",city:"London",amount:2725,date:"2015/04/16"},{id:617,region:"Australia",country:"Australia",city:"Sydney",amount:4720,date:"2015/04/02"},{id:618,region:"Asia",country:"China",city:"Beijing",amount:5190,date:"2015/04/10"},{id:619,region:"Africa",country:"South Africa",city:"Pretoria",amount:2800,date:"2015/04/26"},{id:620,region:"Asia",country:"Japan",city:"Tokyo",amount:3780,date:"2015/04/24"},{id:621,region:"North America",country:"Canada",city:"Edmonton",amount:2340,date:"2015/04/17"},{id:622,region:"North America",country:"United States",city:"New York",amount:4830,date:"2015/05/12"},{id:623,region:"North America",country:"United States",city:"Los Angeles",amount:2075,date:"2015/05/23"},{id:624,region:"North America",country:"United States",city:"Denver",amount:3420,date:"2015/05/21"},{id:625,region:"North America",country:"Canada",city:"Vancouver",amount:1440,date:"2015/05/10"},{id:626,region:"North America",country:"Canada",city:"Edmonton",amount:1680,date:"2015/05/15"},{id:627,region:"South America",country:"Brazil",city:"Rio de Janeiro",amount:3440,date:"2015/05/16"},{id:628,region:"South America",country:"Argentina",city:"Buenos Aires",amount:4695,date:"2015/05/10"},{id:629,region:"South America",country:"Paraguay",city:"Asuncion",amount:2380,date:"2015/05/06"},{id:630,region:"Europe",country:"United Kingdom",city:"London",amount:1875,date:"2015/05/25"},{id:631,region:"Europe",country:"Germany",city:"Berlin",amount:7550,date:"2015/05/14"},{id:632,region:"Europe",country:"Spain",city:"Madrid",amount:3340,date:"2015/05/01"},{id:633,region:"Europe",country:"Russian Federation",city:"Moscow",amount:1400,date:"2015/05/22"},{id:634,region:"Asia",country:"China",city:"Beijing",amount:6060,date:"2015/05/22"},{id:635,region:"Asia",country:"Japan",city:"Tokyo",amount:8370,date:"2015/05/13"},{id:636,region:"Asia",country:"Republic of Korea",city:"Seoul",amount:3550,date:"2015/05/26"},{id:637,region:"Australia",country:"Australia",city:"Sydney",amount:2620,date:"2015/05/17"},{id:638,region:"Australia",country:"Australia",city:"Melbourne",amount:2400,date:"2015/05/21"},{id:639,region:"Africa",country:"South Africa",city:"Pretoria",amount:1740,date:"2015/05/21"},{id:640,region:"Africa",country:"Egypt",city:"Cairo",amount:500,date:"2015/05/26"},{id:641,region:"South America",country:"Argentina",city:"Buenos Aires",amount:780,date:"2015/05/07"}];var overtimeController=function(){this.initialize=function(){function a(){$("#_txtId").val(0),$("#_txtMaNV").val(""),$("#_txtOvertime").val(""),$("#_txtMaNV").trigger("change"),$("#_txtSoGioOT").val(0),$("#_txtContent").val("")}function n(){$.ajax({url:"/Admin/NhanVien/GetAllActive",type:"GET",dataType:"json",async:!1,success:function(t){var t=t.reduce(function(t,e){return t[e.MaBoPhan]=t[e.MaBoPhan]||[],t[e.MaBoPhan].push(e),t},{}),a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){""!=deparment?deparment==t&&(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>"):(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>")}),$("#_txtMaNV").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading nhan vien","error","alert",function(){})}})}$("#btnCreate").on("click",function(){a(),n(),$("#hd_overtime").val("Add"),$("#_txtMaNV").attr("disabled",!1),$("#addEditOvertimeModel").modal("show")}),$("body").on("click",".edit-nv-overtime",function(t){t.preventDefault(),a(),n();var e=$(this).data("id");$.ajax({type:"GET",url:"/Admin/DangKyOT/GetById",dataType:"json",data:{Id:e},success:function(t){t?($("#_txtMaNV").val(t.MaNV),$("#_txtMaNV").trigger("change"),$("#_txtOvertime").val(t.NgayOT),$("#_txtId").val(e),$("#_txtSoGioOT").val(t.SoGioOT),$("#_txtHeSoOT").val(t.HeSoOT),$("#_txtHeSoOT").trigger("change"),$("#_txtContent").val(t.NoiDung)):hrms.notify("error: Not found overtime!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}),$("#hd_overtime").val("Edit"),$("#_txtMaNV").attr("disabled",!0),$("#addEditOvertimeModel").modal("show")}),$("#btnSave_Overtime").on("click",function(t){var e,a,n,o,i,r;$("#frmOvertimeAddEdit").valid()&&(t.preventDefault(),t=$("#_txtMaNV").val(),e=$("#_txtOvertime").val(),a=$("#hd_overtime").val(),n=$("#_txtId").val(),o=$("#_txtSoGioOT").val(),i=$("#_txtHeSoOT").val(),r=$("#_txtContent").val(),$.ajax({url:"/Admin/DangKyOT/RegisterOvertime?action="+a,type:"POST",dataType:"json",data:{Id:n,MaNV:t,NgayOT:e,SoGioOT_1:o,HeSoOT:i,NoiDung:r},success:function(t){$("#addEditOvertimeModel").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".delete-nv-overtime",function(t){t.preventDefault(),$("#txtHiddenId").val($(this).data("id")),$("#delete_overtime").modal("show")}),$("#btnDeleteOvertime").on("click",function(t){t.preventDefault();t=$("#txtHiddenId").val();$.ajax({url:"/Admin/DangKyOT/DeleteOvertime",type:"POST",dataType:"json",data:{Id:t},success:function(t){$("#delete_overtime").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".approve-nv-overtime",function(t){t.preventDefault(),$("#hiIdApprove").val($(this).data("id")),$("#approve_overtime").modal("show")}),$("body").on("click",".unapprove-nv-overtime",function(t){t.preventDefault(),$("#hiIdUnApprove").val($(this).data("id")),$("#unapprove_overtime").modal("show")}),$("#btn-approve_overtime").on("click",function(t){t.preventDefault();var t=$("#hiIdApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for approve","error","alert",function(){}):$.ajax({url:"/Admin/DangKyOT/Approve",type:"POST",dataType:"json",data:{lstID:e,action:"approve"},success:function(t){$("#approve_overtime").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btn-Unapprove_overtime").on("click",function(t){t.preventDefault();var t=$("#hiIdUnApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for unapprove","error","alert",function(){}):$.ajax({url:"/Admin/DangKyOT/Approve",type:"POST",dataType:"json",data:{lstID:e,action:"unapprove"},success:function(t){$("#unapprove_overtime").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btnApprove").on("click",function(t){t.preventDefault(),$("#hiIdApprove").val(0),$("#approve_overtime").modal("show")}),$("#btnUnApprove").on("click",function(t){t.preventDefault(),$("#hiIdUnApprove").val(0),$("#unapprove_overtime").modal("show")}),$("#btn-importOvertime").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/DangKyOT/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_OvertimeModel").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error: Import error!","error","alert",function(){})}}),!1}),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a;""!=deparment&&"SP"!=deparment?a="<option value='"+deparment+"'>"+deparment+"</option >":(a="<option value=''>--Select department--</option>",$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"})),$("#cboDepartment").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},this.doAftersearch=function(){var e;(e=$("#overtimeDataTable"))&&e.DataTable().destroy(),e=$("#overtimeDataTable").DataTable({scrollY:600,scrollX:!0,scrollCollapse:!0,paging:!1,select:!0,searching:!0,initComplete:function(){this.api().columns([1,2,3,4,5,6,7,8,9]).every(function(){var e=this,a=$('<select><option value="">All</option></select>').appendTo($(e.header())).on("change",function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(t,e){'<span class="badge bg-inverse-success">Yes</span>'==t?a.append('<option value="Yes">Yes</option>'):'<span class="badge bg-inverse-warning">Request</span>'==t?a.append('<option value="Request">Request</option>'):'<span class="badge bg-inverse-danger">No</span>'==t?a.append('<option value="No">No</option>'):a.append('<option value="'+t+'">'+t+"</option>")})})},columnDefs:[{targets:0,className:"dt-body-center",render:function(t,e,a,n){return'<input type="checkbox" name="id[]" value="'+$("<div/>").text(t).html()+'">'}}],order:[9,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="overtimeDataTable_length"]').removeClass("form-control-sm"),e.columns.adjust().draw(),e.order([10,"asc"]).draw(),$("#overtimeDataTable-select-all").on("click",function(){var t=e.rows({search:"applied"}).nodes();$('input[type="checkbox"]',t).prop("checked",this.checked)}),$("#overtimeDataTable tbody").on("change",'input[type="checkbox"]',function(){var t;this.checked||(t=$("#overtimeDataTable-select-all").get(0))&&t.checked&&"indeterminate"in t&&(t.indeterminate=!0)})}},chamCongController=function(){this.initialize=function(){var t;$("#btnExportData").on("click",function(){$.ajax({type:"POST",url:"/Admin/ChamCong/ExportExcel",success:function(t){window.location.href=t},error:function(t){hrms.notify(t.responseText,"error","alert",function(){})}})}),$("#btnExportAbsenceData").on("click",function(){var t=$("#cboBoPhan").val(),e=$("#txtTimeFrom").val(),a=$("#txtTimeTo").val();$.ajax({type:"POST",url:"/Admin/ChamCong/GetChamCongAbsenceLog",data:{fromTime:e,toTime:a,dept:t},beforeSend:function(){hrms.run_waitMe($("#chamCongLogDataTable"))},success:function(t){hrms.hide_waitMe($("#chamCongLogDataTable")),window.location.href=t},error:function(t){hrms.hide_waitMe($("#chamCongLogDataTable")),hrms.notify(t.responseText,"error","alert",function(){})}})}),$("#btn-importAttendance").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_EvenLog").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_EvenLog").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_EvenLog").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/ChamCong/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_EvenLog").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error: Import error!","error","alert",function(){})}}),!1}),$("#btnGetLog").on("click",function(){$.ajax({type:"GET",url:"/Admin/ChamCong/GetChamCongLog",beforeSend:function(){hrms.run_waitMe($("#chamCongLogDataTable"))},success:function(t){hrms.hide_waitMe($("#chamCongLogDataTable")),hrms.notify("Get Log success!","Success","alert",function(){location.reload()})},error:function(){hrms.hide_waitMe($("#chamCongLogDataTable")),hrms.notify("Has an error in progress!","error","alert",function(){})}})}),$("#btnGetLogBiostar").on("click",function(){$.ajax({type:"GET",url:"/Admin/ChamCong/GetChamCongLogBiostar",beforeSend:function(){hrms.run_waitMe($("#chamCongLogDataTable"))},success:function(t){hrms.hide_waitMe($("#chamCongLogDataTable")),hrms.notify("Get Log success!","Success","alert",function(){location.reload()})},error:function(){hrms.hide_waitMe($("#chamCongLogDataTable")),hrms.notify("Has an error in progress!","error","alert",function(){})}})}),$("body").on("click",".attendance-info",function(t){t.preventDefault();var t=$(this).data("id"),e=$(this).data("date"),n=$(this).data("timein"),o=$(this).data("timeout");$("#lblNgayChamCong").text(e),$("#lblBeginTime").text(n),$("#lblEndTime").text(o),$("#lblTitle").text($(this).data("name")),$("#lblTitleId").text("("+t+")"),$.ajax({url:"/Admin/ChamCong/GetLogByUserId",type:"POST",dataType:"json",data:{userId:t,time:e},success:function(t){var a="",t=($.each(t,function(t,e){a+="<li><p class='mb-0'>"+e.sName+"</p><p class='res-activity-time'><i class='fa fa-clock-o'></i>"+new Date(e.sLogTime).toLocaleTimeString()+"</p></li>"}),new Date(e+" "+n)),t=(new Date(e+" "+o).getTime()-t.getTime())/36e5;$("#lblTotalTimeInDay").text(Math.abs(t.toFixed(2))+" hrs"),$("#slActivity").html(a)},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}),$("#attendance_info").modal("show")}),$("#btnSave_ChamCong").on("click",function(t){t.preventDefault();var t=$("#_txtMaNV").val(),e=$("#_txtdate").val(),a=$("#_txtTenNV").val(),n=$("#_txtfirstTime").val(),o=$("#_txtlastTime").val();$.ajax({url:"/Admin/ChamCong/UpdateTimeChamCong",type:"POST",dataType:"json",data:{firstTime:n,lastTime:o,maNV:t,ngayChamCong:e,tenNV:a},success:function(t){hrms.notify("Update success!","Success","alert",function(){$("#btnSearch").submit()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}),$("#addEditChamCongModel").modal("hide")}),$("body").on("click",".edit-chamcong",function(t){t.preventDefault();var t=$(this).data("id"),e=$(this).data("date"),a=$(this).data("name"),n=$(this).data("timein"),o=$(this).data("timeout");$("#_txtMaNV").val(t),$("#_txtTenNV").val(a),$("#_txtdate").val(e),$("#_txtfirstTime").val(n),$("#_txtlastTime").val(o),$("#addEditChamCongModel").modal("show")}),""!=deparment&&"SP"!=deparment?(t="",t="WLP2"==deparment?"<option value='WLP 2'>"+deparment+"</option >":"WLP1"==deparment?"<option value='WLP 1'>"+deparment+"</option >":"<option value='"+deparment+"'>"+deparment+"</option >",$("#cboBoPhan").html(t)):$.ajax({url:"/Admin/ChamCong/GetDepartment",type:"GET",dataType:"json",async:!1,success:function(t){var a;""!=deparment&&"SP"!=deparment?(a="",a="WLP2"==deparment?"<option value='WLP 2'>"+deparment+"</option >":"WLP1"==deparment?"<option value='WLP 1'>"+deparment+"</option >":"<option value='"+deparment+"'>"+deparment+"</option >"):(a="<option value=''>--All--</option>",$.each(t,function(t,e){a+="<option value='"+e.sName+"'>"+e.sName+"</option >"})),$("#cboBoPhan").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},this.beginSearch=function(){hrms.run_waitMe($("#chamCongLogDataTable"))},this.doAftersearch=function(){var e;(e=$("#chamCongLogDataTable"))&&e.DataTable().destroy(),e=$("#chamCongLogDataTable").DataTable({select:!0,initComplete:function(){this.api().columns([1,2,3,4,7,8,9]).every(function(){var e=this,a=$('<select><option value="">All</option></select>').appendTo($(e.header())).on("change",function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(t,e){a.append('<option value="'+t+'">'+t+"</option>")})})},columnDefs:[{targets:0,className:"dt-body-center",render:function(t,e,a,n){return'<input type="checkbox" name="id[]" value="'+$("<div/>").text(t).html()+'">'}}],order:[13,"asc"],fixedColumns:{left:5}}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="chamCongLogDataTable_length"]').removeClass("form-control-sm"),$("#chamCongLogDataTable-select-all").on("click",function(){var t=e.rows({search:"applied"}).nodes();$('input[type="checkbox"]',t).prop("checked",this.checked)}),$("#chamCongLogDataTable tbody").on("change",'input[type="checkbox"]',function(){var t;this.checked||(t=$("#chamCongLogDataTable-select-all").get(0))&&t.checked&&"indeterminate"in t&&(t.indeterminate=!0)}),hrms.hide_waitMe($("#chamCongLogDataTable"))}},chamcongDacBietController=function(){this.initialize=function(){function a(){$("#_txtId").val(0),$("#_txtMaNV").val(""),$("#_txtMaChamCongChiTiet").val(""),$("#_txtMaNV").trigger("change"),$("#_txtMaChamCongChiTiet").trigger("change"),$("#_txtNgayBatDau").val(""),$("#_txtNgayKetThuc").val(""),$("#_txtContent").val(""),$("#_txtGiatri").val(0)}function n(){$.ajax({url:"/Admin/NhanVien/GetAllActive",type:"GET",dataType:"json",async:!1,success:function(t){var t=t.reduce(function(t,e){return t[e.MaBoPhan]=t[e.MaBoPhan]||[],t[e.MaBoPhan].push(e),t},{}),a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){""!=deparment?deparment==t&&(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>"):(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>")}),$("#_txtMaNV").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading nhan vien","error","alert",function(){})}})}function o(){console.log(roleUsers),$.ajax({url:"/Admin/ChamCongDacBiet/GetDmucChamCongChiTiet",type:"GET",dataType:"json",async:!1,success:function(t){var t=t.reduce(function(t,e){return"Admin"!=roleUsers&&"HR"!=roleUsers&&7==e.DM_DANGKY_CHAMCONG.Id||(t[e.DM_DANGKY_CHAMCONG.TieuDe]=t[e.DM_DANGKY_CHAMCONG.TieuDe]||[],t[e.DM_DANGKY_CHAMCONG.TieuDe].push(e)),t},{}),a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenChiTiet+"-"+hrms.nullString(e.KyHieuChamCong)+"</option>"}),a+="</optgroup>"}),$("#_txtMaChamCongChiTiet").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading ma cham cong chi tiet","error","alert",function(){})}})}$("#btnCreate").on("click",function(){a(),n(),o(),$("#hd_chamCongDB").val("Add"),$("#_txtMaNV").attr("disabled",!1),$("#chkall").attr("disabled",!1),$("#addEditChamCongDacBietModel").modal("show")}),$("body").on("click",".edit-ChamCongDB",function(t){t.preventDefault(),a(),n(),o();var e=$(this).data("id");console.log(e),$.ajax({type:"GET",url:"/Admin/ChamCongDacBiet/GetById",dataType:"json",data:{Id:e},success:function(t){t?(console.log(t),console.log(t.MaNV),$("#_txtMaNV").val(t.MaNV),$("#_txtMaNV").trigger("change"),console.log("xxx"),console.log($("#_txtMaNV").val()),$("#_txtId").val(e),$("#_txtMaChamCongChiTiet").val(t.MaChamCong_ChiTiet),$("#_txtMaChamCongChiTiet").trigger("change"),$("#_txtNgayBatDau").val(t.NgayBatDau),$("#_txtNgayKetThuc").val(t.NgayKetThuc),$("#_txtContent").val(t.NoiDung),$("#_txtGiatri").val(t.GiaTri)):hrms.notify("error: Not found data!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}),$("#hd_chamCongDB").val("Edit"),$("#_txtMaNV").attr("disabled",!0),$("#chkall").attr("disabled",!0),$("#addEditChamCongDacBietModel").modal("show")}),$("#btnSave_ChamCongDB").on("click",function(t){if($("#frmChamCongDacBietAddEdit").valid()){t.preventDefault();var t=$("#_txtMaNV").val(),n=$("#_txtMaChamCongChiTiet").val(),o=$("#_txtNgayBatDau").val(),i=$("#_txtNgayKetThuc").val(),r=$("#_txtContent").val(),e=$("#hd_chamCongDB").val(),c=$("#_txtId").val(),u=$("#_txtGiatri").val();let a=[];$.each(t,function(t,e){return e&&(e={MaNV:e,MaChamCong_ChiTiet:n,NgayBatDau:o,NgayKetThuc:i,NoiDung:r,GiaTri1:u,Id:c},a.push(e)),a}),$.ajax({url:"/Admin/ChamCongDacBiet/RegisterChamCongDB?action="+e,type:"POST",dataType:"json",data:{arrManv:a},success:function(t){$("#addEditChamCongDacBietModel").modal("hide"),hrms.notify("Update success!","Success","alert",function(){$("#btnSearch").submit()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}}),$("body").on("click",".delete-ChamCongDB",function(t){t.preventDefault(),$("#txtHiddenId").val($(this).data("id")),$("#delete_chamcongDB").modal("show")}),$("#btnChamCongDB").on("click",function(t){t.preventDefault();t=$("#txtHiddenId").val();$.ajax({url:"/Admin/ChamCongDacBiet/Delete",type:"POST",dataType:"json",data:{Id:t},success:function(t){$("#delete_chamcongDB").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){$("#btnSearch").submit()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".approve-nv-overtime",function(t){t.preventDefault(),$("#hiIdApprove").val($(this).data("id")),$("#approve_overtime").modal("show")}),$("#btnApprove").on("click",function(t){t.preventDefault(),$("#hiIdApprove").val(0),$("#approve_overtime").modal("show")}),$("#btnUnApprove").on("click",function(t){t.preventDefault(),$("#hiIdUnApprove").val(0),$("#unapprove_overtime").modal("show")}),$("body").on("click",".unapprove-nv-overtime",function(t){t.preventDefault(),$("#hiIdUnApprove").val($(this).data("id")),$("#unapprove_overtime").modal("show")}),$("#btn-approve_overtime").on("click",function(t){t.preventDefault();var t=$("#hiIdApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for approve","error","alert",function(){}):$.ajax({url:"/Admin/ChamCongDacBiet/ApproveAction",type:"POST",dataType:"json",data:{lstID:e,action:"approve"},success:function(t){$("#approve_overtime").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btn-Unapprove_overtime").on("click",function(t){t.preventDefault();var t=$("#hiIdUnApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for unapprove","error","alert",function(){}):$.ajax({url:"/Admin/ChamCongDacBiet/ApproveAction",type:"POST",dataType:"json",data:{lstID:e,action:"unapprove"},success:function(t){$("#unapprove_overtime").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btn-importChamCongDB").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_OvertimeModel").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/ChamCongDacBiet/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_OvertimeModel").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify(t.responseText,"error","alert",function(){})}}),!1}),$("#btn-exportChamCongDB").on("click",function(){var t=$("#searchFromTime").val(),e=$("#searchToTime").val(),a=$("#cboDepartment").val();$.ajax({type:"POST",url:"/Admin/ChamCongDacBiet/ExportExcel",data:{department:a,timeFrom:t,timeTo:e},beforeSend:function(){hrms.run_waitMe($("#gridChamCongDBIndex"))},success:function(t){window.location.href=t,hrms.hide_waitMe($("#gridChamCongDBIndex"))},error:function(){hrms.notify("Has an error in progress!","error","alert",function(){}),hrms.hide_waitMe($("#gridChamCongDBIndex"))}})}),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a;""!=deparment&&"SP"!=deparment?a="<option value='"+deparment+"'>"+deparment+"</option >":(a="<option value=''>--Select department--</option>",$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"})),$("#cboDepartment").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},this.beginSearch=function(){hrms.run_waitMe($("#chamCongDacBietDataTable"))},this.doAftersearch=function(){var e;(e=$("#chamCongDacBietDataTable"))&&e.DataTable().destroy(),(e=$("#chamCongDacBietDataTable").DataTable({scrollY:600,scrollX:!0,scrollCollapse:!0,paging:!1,select:!0,searching:!0,initComplete:function(){this.api().columns([1,2,3,4,5,6,8]).every(function(){var e=this,a=$('<select><option value="">All</option></select>').appendTo($(e.header())).on("change",function(){var t=$.fn.dataTable.util.escapeRegex($(this).val());e.search(t?"^"+t+"$":"",!0,!1).draw()});e.data().unique().sort().each(function(t,e){'<span class="badge bg-inverse-success">Yes</span>'==t?a.append('<option value="Yes">Yes</option>'):'<span class="badge bg-inverse-warning">Request</span>'==t?a.append('<option value="Request">Request</option>'):'<span class="badge bg-inverse-danger">No</span>'==t?a.append('<option value="No">No</option>'):a.append('<option value="'+t+'">'+t+"</option>")})})},columnDefs:[{targets:0,className:"dt-body-center",render:function(t,e,a,n){return'<input type="checkbox" name="id[]" value="'+$("<div/>").text(t).html()+'">'}}],order:[[8,"asc"]]})).columns.adjust().draw(),e.order([9,"asc"]).draw(),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="chamCongDacBietDataTable_length"]').removeClass("form-control-sm"),$("#chamCongDacBietDataTable-select-all").on("click",function(){var t=e.rows({search:"applied"}).nodes();$('input[type="checkbox"]',t).prop("checked",this.checked)}),$("#chamCongDacBietDataTable tbody").on("change",'input[type="checkbox"]',function(){var t;this.checked||(t=$("#chamCongDacBietDataTable-select-all").get(0))&&t.checked&&"indeterminate"in t&&(t.indeterminate=!0)}),hrms.hide_waitMe($("#chamCongDacBietDataTable"))}},dieuchinhChamcongController=function(){this.initialize=function(){function a(e){$.ajax({url:"/Admin/DCChamCong/GetDanhMucDieuChinh",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value='' selected>Choose...</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TieuDe+"</option>"}),(e?$("#_txtDMDieuChinhCong"):$("#_txtDM_DieuChinhCong")).html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading data","error","alert",function(){})}})}function n(){$("#_txtId").val(0),$("#_txtMaNV").val(""),$("#_txtMaNV").trigger("change"),$("#_txtNgayDieuChinh").val(""),$("#_txtNgayCong").val(""),$("#_txtDSNS").val(""),$("#_txtTrangThaiChiTra").val(""),$("#_txtTrangThaiChiTra").trigger("change")}function o(){$.ajax({url:"/Admin/NhanVien/GetAllActive",type:"GET",dataType:"json",async:!1,success:function(t){var t=t.reduce(function(t,e){return t[e.MaBoPhan]=t[e.MaBoPhan]||[],t[e.MaBoPhan].push(e),t},{}),a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>"}),$("#_txtMaNV").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading nhan vien","error","alert",function(){})}})}$("#_txtDMDieuChinhCong").on("change",function(t){""==$("#_txtDMDieuChinhCong").val()?($("#_txtTieuDe").val(""),$("#_txtTieuDe").attr("disabled",!1)):($("#_txtTieuDe").val($("#_txtDMDieuChinhCong option:selected").text()),$("#_txtTieuDe").attr("disabled",!0))}),$("#btnEditDMDChinh").on("click",function(t){$("#_txtTieuDe").attr("disabled",!1)}),$("#btnSaveDMDieuChinhChamCong").on("click",function(t){var e;$("#frmDMDCChamCongAddEdit").valid()&&(t.preventDefault(),t=$("#_txtDMDieuChinhCong").val(),e=$("#_txtTieuDe").val(),$.ajax({url:"/Admin/DCChamCong/SaveDanhMucDieuChinh",type:"POST",dataType:"json",data:{Id:t,TieuDe:e},async:!1,success:function(t){$("#addDMDieuChinhChamCongModel").modal("hide"),hrms.notify("update success!","Success","alert",function(){})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnCreate").on("click",function(){n(),o(),a(!1),$("#hd_dieuChinhChamCong").val("Add"),$("#_txtMaNV").attr("disabled",!1),$("#addDieuChinhChamCongModel").modal("show")}),$("body").on("click",".edit-DCChamCong",function(t){t.preventDefault(),n(),o(),a(!1);var e=$(this).data("id");$.ajax({type:"GET",url:"/Admin/DCChamCong/GetById",dataType:"json",data:{Id:e},success:function(t){t?($("#_txtId").val(e),$("#_txtMaNV").val(t.MaNV),$("#_txtMaNV").trigger("change"),$("#_txtDM_DieuChinhCong").val(t.DM_DieuChinhCong),$("#_txtDM_DieuChinhCong").trigger("change"),$("#_txtNgayCanDieuChinh_From").val(t.NgayCanDieuChinh_From),$("#_txtNgayCanDieuChinh_To").val(t.NgayCanDieuChinh_To),$("#_txtGiaTriBoXung").val(t.GiaTriBoXung),$("#_txtContent").val(t.NoiDungDC),$("#_txtTrangThaiChiTra").val(t.TrangThaiChiTra),$("#_txtTrangThaiChiTra").trigger("change")):hrms.notify("error: Not found data!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}),$("#hd_dieuChinhChamCong").val("Edit"),$("#_txtMaNV").attr("disabled",!0),$("#addDieuChinhChamCongModel").modal("show")}),$("#btnSaveDieuChinhChamCong").on("click",function(t){var e,a,n,o,i,r,c,u;$("#frmDCChamCongAddEdit").valid()&&(t.preventDefault(),t=$("#_txtMaNV").val(),e=$("#_txtDM_DieuChinhCong").val(),a=$("#_txtNgayCanDieuChinh_From").val(),n=$("#_txtNgayCanDieuChinh_To").val(),o=$("#_txtGiaTriBoXung").val(),i=$("#_txtContent").val(),r=$("#_txtTrangThaiChiTra").val(),c=$("#hd_dieuChinhChamCong").val(),u=$("#_txtId").val(),$.ajax({url:"/Admin/DCChamCong/SaveDieuChinhChamCong?action="+c,type:"POST",dataType:"json",data:{Id:u,MaNV:t,NgayCanDieuChinh_From:a,NgayCanDieuChinh_To:n,NoiDungDC:i,DM_DieuChinhCong:e,GiaTriBoXung:o,TrangThaiChiTra:r},success:function(t){$("#addDieuChinhChamCongModel").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".delete-DCChamCong",function(t){t.preventDefault(),$("#txtHiddenId").val($(this).data("id")),$("#delete_DCChamCong").modal("show")}),$("#btnDeleteDCChamCong").on("click",function(t){t.preventDefault();t=$("#txtHiddenId").val();$.ajax({url:"/Admin/DCChamCong/Delete",type:"POST",dataType:"json",data:{Id:t},success:function(t){$("#delete_DCChamCong").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select department--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option>"}),$("#cboDepartment").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},this.beginSearch=function(){hrms.run_waitMe($("#dcChamCongDataTable"))},this.doAftersearch=function(){var t;(t=$("#dcChamCongDataTable"))&&t.DataTable().destroy(),$("#dcChamCongDataTable").DataTable({order:[9,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="dcChamCongDataTable_length"]').removeClass("form-control-sm"),hrms.hide_waitMe($("#dcChamCongDataTable"))}},nhanVienController=function(){function e(){$("#txtTenNV").val(""),$("#txtGioiTinh").val("Male"),$("#txtEmail").val(""),$("#txtSoDienThoai").val(""),$("#txtMaNV").val(""),$("#txtNgayVao").val(""),$("#txtBoPhan").val(""),$("#txtChucDanh").val(""),$("#frmAddEditEmployee").validate().resetForm()}function a(){$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select department--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"}),$("#txtBoPhan").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})}function n(){$.ajax({url:"/Admin/ChucDanh/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select team position--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenChucDanh+"</option >"}),$("#txtChucDanh").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading team position data","error","alert",function(){})}})}function d(){hrms.run_waitMe($("#gridNhanVien")),window.location.reload();let e=setInterval(function(){var t=$("#nhanVienDataTable");t&&(t.DataTable().destroy(),$("#nhanVienDataTable").DataTable({order:[8,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="nhanVienDataTable_length"]').removeClass("form-control-sm"),clearInterval(e),hrms.hide_waitMe($("#gridNhanVien")))},500)}this.initialize=function(){},$("#btnCreate").on("click",function(){$("#txtTitleAddEdit").text("Add Employee"),$("#txtMaNV").prop("disabled",!1),e(),a(),n(),$("#add_employee").modal("show")}),$("body").on("click",".edit-employee",function(t){t.preventDefault(),$("#txtTitleAddEdit").text("Edit Employee"),$("#txtMaNV").prop("disabled",!0),e(),a(),n(),$("#add_employee").modal("show");t=$(this).data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetById",dataType:"json",data:{Id:t},success:function(t){t?($("#txtTenNV").val(t.TenNV),$("#txtGioiTinh").val(t.GioiTinh),$("#txtEmail").val(t.Email),$("#txtSoDienThoai").val(t.SoDienThoai),$("#txtMaNV").val(t.Id),$("#txtNgayVao").val(t.NgayVao),$("#txtBoPhan").val(t.MaBoPhan),$("#txtBoPhan").trigger("change"),$("#txtChucDanh").val(t.MaChucDanh),$("#txtChucDanh").trigger("change")):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".updateCode_employee",function(t){t.preventDefault();t=$(this).data("id");$("#txtCodeOld").val(t),$("#txtCodeNew").val(""),$("#updateCode_employee").modal("show")}),$("#btnSaveCodeEmployee").on("click",function(t){var e;$("#frmUpdateCodeEmployee").valid()&&(t.preventDefault(),t=$("#txtCodeOld").val(),e=$("#txtCodeNew").val(),$.ajax({url:"/Admin/NhanVien/UpdateMaNV",type:"POST",data:{Id:t,newId:e},success:function(t){$("#updateCode_employee").modal("hide"),hrms.notify("Update code success!","Success","alert",function(){d()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnSave").on("click",function(t){var e,a,n,o,i,r,c,u;$("#frmAddEditEmployee").valid()&&(t.preventDefault(),t=$("#txtTenNV").val(),e=$("#txtGioiTinh").val(),a=$("#txtEmail").val(),n=$("#txtSoDienThoai").val(),o=$("#txtMaNV").val(),i=$("#txtNgayVao").val(),r=$("#txtBoPhan").val(),c=$("#txtChucDanh").val(),u="",u="Edit Employee"==$("#txtTitleAddEdit").text()?"Edit":"Add",$.ajax({url:"/Admin/NhanVien/SaveEmployee",type:"POST",dataType:"json",data:{Action:u,NhanVien:{Id:o,TenNV:t,MaChucDanh:c,MaBoPhan:r,GioiTinh:e,Email:a,SoDienThoai:n,NgayVao:i}},success:function(t){$("#add_employee").modal("hide"),hrms.notify("Update success!","Success","alert",function(){d()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnDelete").on("click",function(t){t.preventDefault();t=$("#txtId").val();$.ajax({type:"POST",url:"/Admin/NhanVien/Delete",dataType:"json",data:{Id:t},success:function(t){$("#delete_employee").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){d()})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".delete-employee",function(t){t.preventDefault(),$("#delete_employee").modal("show"),$("#txtId").val($(this).data("id"))}),$("#btn-import").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val("basic_emp"),$("#import_employee").modal("show")}),$("#btn-import-contract").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val("detail_emp"),$("#import_employee").modal("show")}),$("#btn-importChucVu2").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val("chucvu2_emp"),$("#import_employee").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_employee").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_employee").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/NhanVien/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_employee").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify("error: Import error!","error","alert",function(){})}}),!1}),$("#btn-export").on("click",function(){var t=$("#cboChedo").val();$.ajax({type:"POST",url:"/Admin/NhanVien/ExportExcel?chedo="+t,beforeSend:function(){hrms.run_waitMe($("#gridNhanVien"))},success:function(t){window.location.href=t,hrms.hide_waitMe($("#gridNhanVien"))},error:function(){hrms.notify("Has an error in progress!","error","alert",function(){}),hrms.hide_waitMe($("#gridNhanVien"))}})}),this.doAftersearch=function(){var t=$("#nhanVienDataTable");t&&t.DataTable().destroy(),(t=$("#nhanVienDataTable"))&&(t.DataTable().destroy(),$("#nhanVienDataTable").DataTable({order:[8,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="nhanVienDataTable_length"]').removeClass("form-control-sm"))}},ProfileMng=function(){this.initialize=function(){$("#btnSelectImg").on("click",function(){$("#fileInputImage").click()}),$("#fileInputImage").on("change",function(){for(var t=$(this).get(0).files,a=$("#hdMaNV").data("id"),e=new FormData,n=0;n<t.length;n++)e.append(t[n].name,t[n]);e.append("category","avatar"),e.append("Id",a),$.ajax({type:"POST",url:"/admin/Upload/UploadImage",contentType:!1,processData:!1,data:e,success:function(e){$.ajax({type:"POST",url:"/admin/nhanvien/SaveAvatar",dataType:"json",data:{Id:a,url:e},success:function(t){hrms.notify("Upload success!","Success","alert",function(){$("#fileInputImage").val(null),$("#imgAvatar").attr("src",e)})},error:function(t){hrms.notify("There was error save image!"+t.responseText,"error","alert",function(){})}})},error:function(){hrms.notify("There was error uploading image!","error","alert",function(){})}})}),$("#btn-UpdateProfileBasic").on("click",function(t){t.preventDefault(),$("#txtMaNhanVien").val(""),$("#txtTenNhanVien").val(""),$("#txtBirthday").val(""),$("#txtGioiTinh").val("Male"),$("#txtBoPhan").val(""),$("#txtBoPhanDetail").val(""),$("#txtChucDanh").val(""),$("#txtNgayVaoCongTy").val(""),$("#txtDCHienTai").val(""),$("#txtPhone").val(""),$("#txtEmail").val(""),$("#txtStatus").val("Active"),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select department--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"}),$("#txtBoPhan").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}}),$.ajax({url:"/Admin/BoPhanDetail/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select department--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhanChiTiet+"</option >"}),$("#txtBoPhanDetail").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department detail data","error","alert",function(){})}}),$.ajax({url:"/Admin/ChucDanh/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Select team position--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenChucDanh+"</option >"}),$("#txtChucDanh").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading team position data","error","alert",function(){})}}),$("#profile_info").modal("show");t=$(this).data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:t},success:function(t){t?($("#txtMaNhanVien").val(t.MaNhanVien),$("#txtTenNhanVien").val(t.TenNhanVien),$("#txtBirthday").val(t.Birthday),$("#txtGioiTinh").val(t.GioiTinh),$("#txtGioiTinh").trigger("change"),$("#txtBoPhan").val(t.BoPhan),$("#txtBoPhan").trigger("change"),$("#txtBoPhanDetail").val(t.MaBoPhanDetail),$("#txtBoPhanDetail").trigger("change"),$("#txtChucDanh").val(t.ChucDanh),$("#txtChucDanh").trigger("change"),$("#txtNgayVaoCongTy").val(t.NgayVaoCongTy),$("#txtDCHienTai").val(t.DCHienTai),$("#txtPhone").val(t.Phone),$("#txtEmail").val(t.Email),$("#txtStatus").val(t.Status),$("#txtStatus").trigger("change"),$("#txtTinhTrangHonNhan").val(t.TinhTrangHonNhan),$("#txtTinhTrangHonNhan").trigger("change")):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-UpdatePersonalInfo").on("click",function(t){t.preventDefault(),$("#id-Personal").val(""),$("#txtCMTND").val(""),$("#txtNgayCapCMTND").val(""),$("#txtNoiCapCMTND").val(""),$("#txtDanToc").val(""),$("#txtTonGiao").val(""),$("#txtNoiSinh").val(""),$("#txtNguyenQuan").val(""),$("#txtDiaChiThuongTru").val(""),$("#txtMaSoThue").val(""),$("#txtTruongDaoTao").val(""),$("#txtSoNguoiGiamTru").val(""),$("#personal_info_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#id-Personal").val(e),$("#txtCMTND").val(t.CMTND),$("#txtNgayCapCMTND").val(t.NgayCapCMTND),$("#txtNoiCapCMTND").val(t.NoiCapCMTND),$("#txtDanToc").val(t.DanToc),$("#txtTonGiao").val(t.TonGiao),$("#txtNoiSinh").val(t.NoiSinh),$("#txtNguyenQuan").val(t.NguyenQuan),$("#txtDiaChiThuongTru").val(t.DiaChiThuongTru),$("#txtMaSoThue").val(t.MaSoThue),$("#txtTruongDaoTao").val(t.TruongDaoTao),$("#txtSoNguoiGiamTru").val(t.SoNguoiGiamTru)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-UpdateBankInfo").on("click",function(t){t.preventDefault(),$("#id-BankInfo").val(""),$("#txtTenNganHang").val(""),$("#txtSoTaiKhoanNH").val(""),$("#bank_info_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#id-BankInfo").val(e),$("#txtTenNganHang").val(t.TenNganHang),$("#txtSoTaiKhoanNH").val(t.SoTaiKhoanNH)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-UpdateEmergency").on("click",function(t){t.preventDefault(),$("#id-Emergency").val(""),$("#txtQuanHeNguoiThan").val(""),$("#txtSoDienThoaiNguoiThan").val(""),$("#emergency_contact_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#id-Emergency").val(e),$("#txtQuanHeNguoiThan").val(t.QuanHeNguoiThan),$("#txtSoDienThoaiNguoiThan").val(t.SoDienThoaiNguoiThan)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-UpdateBHXH").on("click",function(t){t.preventDefault(),$("#id-Bhxh").val(""),$("#txtMaBHXH").val(""),$("#txtNgayThamGia").val(""),$("#txtNgayKetThuc").val(""),$("#bhxh_infor_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#id-Bhxh").val(e),$("#txtMaBHXH").val(t.MaBHXH),$("#txtNgayThamGia").val(t.NgayThamGia),$("#txtNgayKetThuc").val(t.NgayKetThuc)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-UpdatePhepNam").on("click",function(t){t.preventDefault(),$("#phepNam_infor_modal").modal("show")}),$("#btn-updateQuitwork").on("click",function(t){t.preventDefault(),$("#hd-QuitWork").val(""),$("#txtNgayNghiViec").val(""),$("#quitWork_infor_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#hd-QuitWork").val(e),$("#txtNgayNghiViec").val(t.NgayNghiViec)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btn-Update-KyLuatLaoDong").on("click",function(t){t.preventDefault(),$("#id-KyLuatLD").val(""),$("#txtKyLuatLD").val(""),$("#LaborDiscipline_infor_modal").modal("show");var e=$("#btn-UpdateProfileBasic").data("id");$.ajax({type:"GET",url:"/Admin/NhanVien/GetProfile",dataType:"json",data:{Id:e},success:function(t){t?($("#id-KyLuatLD").val(e),$("#txtKyLuatLD").val(t.KyLuatLaoDong)):hrms.notify("error: Not found employee!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btnClearContract").on("click",function(t){t.preventDefault(),$("#txtMaHD").val(""),$("#txtIdContract").val(""),$("#txtTenHD").val(""),$("#slLoaiHD").val(0),$("#slLoaiHD").trigger("change"),$("#txtNgayKy").val(""),$("#txtNgayHieuLuc").val(""),$("#txtNgayHetHieuLuc").val("")}),$("body").on("click",".btn-delete-qtrinhCtac",function(t){t.preventDefault();t=$(this).data("id");$("#id-form-qtrinhCtac").attr("data-ajax-url","/admin/NhanVien/UpdateViewQuatrinhCtac?id="+t),$("#id-form-qtrinhCtac").attr("data-ajax-update","#quatrinhCtac_content_modal"),$("#id-form-qtrinhCtac").attr("data-ajax-success","reloadDatePicker"),$("#id-form-qtrinhCtac").attr("data-ajax-confirm","Are you sure you want delete this?"),$("#btn-submit-qtrCongTac").submit()}),$("body").on("click",".btn-add-Area-qtCtac",function(t){t.preventDefault(),$("#id-form-qtrinhCtac").attr("data-ajax-url","/admin/NhanVien/UpdateViewQuatrinhCtac?id=-9999"),$("#id-form-qtrinhCtac").attr("data-ajax-update","#quatrinhCtac_content_modal"),$("#id-form-qtrinhCtac").attr("data-ajax-success","reloadDatePicker"),$("#id-form-qtrinhCtac").removeAttr("data-ajax-confirm"),$("#btn-submit-qtrCongTac").submit()}),$("body").on("click","#btn-submit-qtrCongTac",function(t){t.preventDefault();t=$(this).data("id");$("#id-form-qtrinhCtac").attr("data-ajax-url","/admin/NhanVien/UpdateQuatrinhCtac?id="+t),$("#id-form-qtrinhCtac").attr("data-ajax-update","#quatrinhCongTacTab"),$("#id-form-qtrinhCtac").attr("data-ajax-success","ReloadPageOnsuccess"),$("#id-form-qtrinhCtac").attr("data-ajax-confirm","Are you sure you want update this?"),$(this).submit()}),$("#btn-addKeKhaiBHInfo").on("click",function(t){t.preventDefault(),$("#cboCheDoBH").val(""),$("#txtNgayBatDau").val(""),$("#txtNgayKetThuctt").val(""),$("#txtNgayThanhToan").val(""),$("#txtSoTienThanhToan").val(""),$("#chiTraId").val("0"),$("#ttchiTraBH_Model").validate().resetForm(),$("#ttchiTraBH_Model").modal("show")}),$("body").on("click",".edit-kkbh",function(t){t.preventDefault();var e=$(this).data("id");e&&0!=e&&($("#ttchiTraBH_Model").validate().resetForm(),$("#ttchiTraBH_Model").modal("show"),$.ajax({type:"GET",url:"/Admin/NhanVien/GetKeKhaiBH",dataType:"json",data:{Id:e},success:function(t){t?($("#cboCheDoBH").val(t.CheDoBH),$("#cboCheDoBH").trigger("change"),$("#txtNgayBatDau").val(t.NgayBatDau),$("#txtNgayKetThuctt").val(t.NgayKetThuc),$("#txtNgayThanhToan").val(t.NgayThanhToan),$("#txtSoTienThanhToan").val(t.SoTienThanhToan),$("#chiTraId").val(e)):hrms.notify("error: Not found object!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".delete-kkbh",function(t){t.preventDefault();t=$(this).data("id");t&&0!=t&&($("#txtIdChiTraBH").val(t),$("#delete_chitraBH").modal("show"))}),$("#btnSaveTTchiTraBH").on("click",function(t){var e,a,n,o,i,r;$("#frm_ttchiTraBH_Model").valid()&&(t.preventDefault(),t=$("#chiTraId").val(),e=$("#cboCheDoBH").val(),a=$("#txtNgayBatDau").val(),n=$("#txtNgayKetThuctt").val(),o=$("#txtNgayThanhToan").val(),i=$("#txtSoTienThanhToan").val(),r=$("#btn-UpdateProfileBasic").data("id"),isNaN(i)&&(i=0),$.ajax({url:"/Admin/NhanVien/UpdateKeKhaiBH",type:"POST",data:{Id:t,MaNV:r,CheDoBH:e,NgayBatDau:a,NgayKetThuc:n,NgayThanhToan:o,SoTienThanhToan:i},success:function(t){$("#ttchiTraBH_Model").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("#btnDeleteChiTraBH").on("click",function(t){t.preventDefault();t=$("#txtIdChiTraBH").val();$.ajax({url:"/Admin/NhanVien/DeleteKeKhaiBH",type:"POST",data:{Id:t},success:function(t){$("#delete_chitraBH").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})})},this.InitLoaiHopDong=function(){$.ajax({url:"/Admin/HRLoaiHD/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value='0'>--Chọn Loại Hợp Đồng--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenLoaiHD+"</option >"}),$("#slLoaiHD").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading contract type data","error","alert",function(){})}})},this.InitCheDoBH=function(){$.ajax({url:"/Admin/NhanVien/GetCheDoBH",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value=''>--Chọn Chế Độ Bảo Hiểm--</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenCheDo+"</option >"}),$("#cboCheDoBH").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading data","error","alert",function(){})}})}},loginController=function(){this.initialize=function(){t()};var t=function(){$("#frmLogin").validate({errorClass:"error",ignore:[],lang:"en",rules:{userName:{required:!0},passWord:{required:!0}}}),$("#btnLogin").on("click",function(t){var e;$("#frmLogin").valid()&&(t.preventDefault(),t=$("#txtUserName").val(),e=$("#txtPassword").val(),a(t,e))})},a=function(t,e){$.ajax({type:"POST",data:{UserName:t,Password:e},dataType:"json",url:"/admin/login/authen",success:function(t){t.Success?window.location.href="/Admin/Home/Index":hrms.notify(t.Message,"error","alert",function(){})}})}},loginPayrollController=function(){this.initialize=function(){t()};var t=function(){$("#frmLogin").validate({errorClass:"error",ignore:[],lang:"en",rules:{userName:{required:!0},passWord:{required:!0}}}),$("#btnLogin").on("click",function(t){var e;$("#frmLogin").valid()&&(t.preventDefault(),t=$("#txtUserName").val(),e=$("#txtPassword").val(),a(t,e))})},a=function(t,e){$.ajax({type:"POST",data:{UserName:t,Password:e},dataType:"json",url:"/payroll/login/authen",success:function(t){t.Success?window.location.href="/payroll/login/loginwithotp":hrms.notify(t.Message,"error","alert",function(){})}})}},nhanvien_calamviecController=function(){this.initialize=function(){function a(){$("#_txtMaNV").val(""),$("#_txtDmCaLviec").val(""),$("#_txtFrom").val(""),$("#_txtTo").val(""),$("#hd_NhanVien_Calviec").val(""),$("#_txtMaNV").prop("disabled",!1),$("#_txtId").val("0")}function n(e){$.ajax({url:"/Admin/NhanVien_CaLamViec/GetAllDMCaLamViec",type:"GET",dataType:"json",async:!1,success:function(t){var a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenCaLamViec+"</option>"}),("1"==e?$("#_txtSettingDmCaLviec"):$("#_txtDmCaLviec")).html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading ca lam viec","error","alert",function(){})}})}function o(){$.ajax({url:"/Admin/NhanVien/GetAllActive",type:"GET",dataType:"json",async:!1,success:function(t){console.log(t);var t=t.reduce(function(t,e){return t[e.MaBoPhan]=t[e.MaBoPhan]||[],t[e.MaBoPhan].push(e),t},{}),a="<option value='' selected='selected'>Select option...</option>";$.each(t,function(t,e){""!=deparment?deparment==t&&(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>"):(a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>")}),$("#_txtMaNV").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading nhan vien","error","alert",function(){})}})}$("#btn-exportShift").on("click",function(){var t=$("#cboDepartment").val(),e=$("#searchStatus").val(),a=$("#searchFromTime").val(),n=$("#searchToTime").val();$.ajax({type:"POST",data:{department:t,status:e,timeFrom:a,timeTo:n},url:"/Admin/NhanVien_CaLamViec/ExportExcel",beforeSend:function(){hrms.run_waitMe($("#gridNvienCalamviecIndex"))},success:function(t){window.location.href=t,hrms.hide_waitMe($("#gridNvienCalamviecIndex"))},error:function(){hrms.notify("Has an error in progress!","error","alert",function(){}),hrms.hide_waitMe($("#gridNvienCalamviecIndex"))}})}),$("#btn-importShift").on("click",function(){$("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_ShiftModel").modal("show")}),$("#btnCloseImportExcel").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_ShiftModel").modal("hide"),location.reload())}),$("#btnCloseImport").on("click",function(){0<$("#fileInputExcel").get(0).files.length&&($("#fileInputExcel").val(null),$("#hd-ImportType").val(""),$("#import_ShiftModel").modal("hide"),location.reload())}),$("#btnImportExcel").on("click",function(){for(var t=$("#fileInputExcel").get(0).files,e=new FormData,a=0;a<t.length;a++)e.append("files",t[a]);var n=$("#hd-ImportType").val();return $.ajax({url:"/Admin/NhanVien_CaLamViec/ImportExcel?param="+n,type:"POST",data:e,processData:!1,contentType:!1,success:function(t){$("#import_ShiftModel").modal("hide"),hrms.notify("Import success!","Success","alert",function(){location.reload()})},error:function(t){hrms.notify(t.responseText,"error","alert",function(){})}}),!1}),$("#btnCreate").on("click",function(){a(),o(),n("0"),$("#hd_NhanVien_Calviec").val("Add"),$("#add_nhanvien_calamviecModel").modal("show")}),$("#btnSave_Nv_Calmviec").on("click",function(t){var e,a,n,o,i;$("#frmNhanVien_CaLviec_AddEdit").valid()&&(t.preventDefault(),t=$("#_txtMaNV").val(),e=$("#_txtDmCaLviec").val(),a=$("#_txtFrom").val(),n=$("#_txtTo").val(),o=$("#hd_NhanVien_Calviec").val(),i=$("#_txtId").val(),$.ajax({url:"/Admin/NhanVien_CaLamViec/RegisterNhanVienCalamViec?action="+o,type:"POST",dataType:"json",data:{Id:i,MaNV:t,Danhmuc_CaLviec:e,BatDau_TheoCa:a,KetThuc_TheoCa:n},success:function(t){$("#add_nhanvien_calamviecModel").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".edit-nv-calviec",function(t){t.preventDefault(),a(),o(),n("0"),$("#hd_NhanVien_Calviec").val("Edit"),$("#_txtMaNV").prop("disabled",!0),$("#add_nhanvien_calamviecModel").modal("show");var e=$(this).data("id");$.ajax({type:"GET",url:"/Admin/NhanVien_CaLamViec/FindId",dataType:"json",data:{Id:e},success:function(t){t?($("#_txtId").val(e),$("#_txtMaNV").val(t.MaNV),t.CaLV_DB?$("#_txtDmCaLviec").val(t.CaLV_DB):$("#_txtDmCaLviec").val(t.Danhmuc_CaLviec),$("#_txtFrom").val(t.BatDau_TheoCa),$("#_txtTo").val(t.KetThuc_TheoCa),$("#_txtDmCaLviec").trigger("change"),$("#_txtMaNV").trigger("change")):hrms.notify("error: Not found data row!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".delete-nv-calviec",function(t){t.preventDefault(),$("#hdId_delete").val($(this).data("id")),$("#delete_nhanVien_calviec").modal("show")}),$("#btn-delete_nv_calamviec").on("click",function(t){t.preventDefault();t=$("#hdId_delete").val();$.ajax({type:"POST",url:"/Admin/NhanVien_CaLamViec/Delete",dataType:"json",data:{Id:t},success:function(t){t?($("#delete_nhanVien_calviec").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})):hrms.notify("error: delete not success!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#_txtTimeSelect").on("change",function(t){t.preventDefault();var e,a,n,o,i,r,t=$(this).val();0<=t.indexOf("^")?(e=t.split("^")[0],a=t.split("^")[1],n=t.split("^")[2],o=t.split("^")[3],i=t.split("^")[4],r=t.split("^")[5],t=t.split("^")[6],$("#_txtIdSetting").val(e),$("#_txtSettingDmCaLviec").val(a),$("#_txtSettingDmCaLviec").trigger("change"),$("#_txtSettingTimeFrom").val(n),$("#_txtSettingTimeTo").val(o),$("#_txtSettingTimeRegisFrom").val(i),$("#_txtSettingTimeRegisTo").val(r),$("#hd_Time_Calviec").val("Edit"),$("#btnAddSettingTime").attr("disabled",!1),$("#_txtSettingStatus").val(t),$("#_txtSettingStatus").trigger("change"),$("#_txtSettingDmCaLviec").attr("disabled",!0),$("#_txtSettingTimeTo").attr("disabled",!0),$("#_txtSettingTimeFrom").attr("disabled",!0),$("#_txtSettingTimeRegisFrom").attr("disabled",!0),$("#_txtSettingTimeRegisTo").attr("disabled",!0),$("#_txtSettingStatus").attr("disabled",!0)):($("#_txtIdSetting").val("0"),$("#_txtSettingDmCaLviec").val(""),$("#_txtSettingDmCaLviec").trigger("change"),$("#_txtSettingTimeTo").val(""),$("#_txtSettingTimeFrom").val(""),$("#_txtSettingTimeRegisFrom").val(""),$("#_txtSettingTimeRegisTo").val(""),$("#hd_Time_Calviec").val("Add"),$("#btnAddSettingTime").attr("disabled",!0),$("#_txtSettingStatus").val(""),$("#_txtSettingStatus").trigger("change"),$("#_txtSettingDmCaLviec").attr("disabled",!1),$("#_txtSettingTimeTo").attr("disabled",!1),$("#_txtSettingTimeFrom").attr("disabled",!1),$("#_txtSettingTimeRegisFrom").attr("disabled",!1),$("#_txtSettingTimeRegisTo").attr("disabled",!1),$("#_txtSettingStatus").attr("disabled",!1))}),$("#btnAddSettingTime").on("click",function(t){t.preventDefault(),$("#_txtTimeSelect").val(""),$("#_txtTimeSelect").trigger("change"),$("#_txtIdSetting").val("0"),$("#_txtSettingDmCaLviec").val(""),$("#_txtSettingDmCaLviec").trigger("change"),$("#_txtSettingTimeTo").val(""),$("#_txtSettingTimeFrom").val(""),$("#_txtSettingTimeRegisFrom").val(""),$("#_txtSettingTimeRegisTo").val(""),$("#hd_Time_Calviec").val("Add"),$("#_txtSettingStatus").val(""),$("#_txtSettingStatus").trigger("change"),$("#_txtSettingDmCaLviec").attr("disabled",!1),$("#_txtSettingTimeTo").attr("disabled",!1),$("#_txtSettingTimeFrom").attr("disabled",!1),$("#_txtSettingTimeRegisFrom").attr("disabled",!1),$("#_txtSettingTimeRegisTo").attr("disabled",!1),$("#_txtSettingStatus").attr("disabled",!1)}),$("#btnEditSettingTime").on("click",function(t){t.preventDefault(),$("#_txtSettingDmCaLviec").attr("disabled",!1),$("#_txtSettingTimeTo").attr("disabled",!1),$("#_txtSettingTimeFrom").attr("disabled",!1),$("#_txtSettingTimeRegisFrom").attr("disabled",!1),$("#_txtSettingTimeRegisTo").attr("disabled",!1),$("#_txtSettingStatus").attr("disabled",!1)}),$("#btnApprove").on("click",function(t){t.preventDefault(),$("#hiIdApprove").val(0),$("#approve_nhanVien_calviec").modal("show")}),$("#btnUnApprove").on("click",function(t){t.preventDefault(),$("#hiIdUnApprove").val(0),$("#unapprove_nhanVien_calviec").modal("show")}),$("#btn-approve_nv_calamviec").on("click",function(t){t.preventDefault();var t=$("#hiIdApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for approve","error","alert",function(){}):$.ajax({url:"/Admin/NhanVien_CaLamViec/Approve",type:"POST",dataType:"json",data:{lstID:e,action:"approve"},success:function(t){$("#approve_nhanVien_calviec").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("#btnDeleteAll").on("click",function(t){t.preventDefault(),$("#delete_all_nhanVien_calviec").modal("show")}),$("#btn-delete_all_nv_calamviec").on("click",function(t){t.preventDefault();var e=[];$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}),0==e.length?hrms.notify("error: Choose item for delete","error","alert",function(){}):$.ajax({url:"/Admin/NhanVien_CaLamViec/DeleteAll",type:"POST",dataType:"json",data:{lstID:e,action:"approve"},success:function(t){$("#delete_all_nhanVien_calviec").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$("body").on("click",".approve-nv-calviec",function(t){t.preventDefault(),$("#hiIdApprove").val($(this).data("id")),$("#approve_nhanVien_calviec").modal("show")}),$("body").on("click",".unapprove-nv-calviec",function(t){t.preventDefault(),$("#hiIdUnApprove").val($(this).data("id")),$("#unapprove_nhanVien_calviec").modal("show")}),$("#btn-Unapprove_nv_calamviec").on("click",function(t){t.preventDefault();var t=$("#hiIdUnApprove").val(),e=[];"0"==t?$($.fn.dataTable.tables(!0)).DataTable().$('input[type="checkbox"]').each(function(){this.checked&&e.push(this.value)}):e.push(t),0==e.length?hrms.notify("error: Choose item for unapprove","error","alert",function(){}):$.ajax({url:"/Admin/NhanVien_CaLamViec/Approve",type:"POST",dataType:"json",data:{lstID:e,action:"unapprove"},success:function(t){$("#unapprove_nhanVien_calviec").modal("hide"),hrms.notify("Update success!","Success","alert",function(){location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),$.ajax({url:"/Admin/BoPhan/GetAll",type:"GET",dataType:"json",async:!1,success:function(t){var a;""!=deparment?a="<option value='"+deparment+"'>"+deparment+"</option >":(a="<option value=''>--Select department--</option>",$.each(t,function(t,e){a+="<option value='"+e.Id+"'>"+e.TenBoPhan+"</option >"})),$("#cboDepartment").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading department data","error","alert",function(){})}})},this.doAftersearch=function(){var t,e;(t=$("#nvCalamviecDataTable"))&&t.DataTable().destroy(),e=$("#nvCalamviecDataTable").DataTable({select:!0,searching:!0,columnDefs:[{targets:0,className:"dt-body-center",render:function(t,e,a,n){return'<input type="checkbox" name="id[]" value="'+$("<div/>").text(t).html()+'">'}}],order:[10,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search"),$('select[name="nvCalamviecDataTable_length"]').removeClass("form-control-sm"),$("#nvCalamviecDataTable-select-all").on("click",function(){var t=e.rows({search:"applied"}).nodes();$('input[type="checkbox"]',t).prop("checked",this.checked)}),$("#nvCalamviecDataTable tbody").on("change",'input[type="checkbox"]',function(){var t;this.checked||(t=$("#nvCalamviecDataTable-select-all").get(0))&&t.checked&&"indeterminate"in t&&(t.indeterminate=!0)})}},thaisanController=function(){this.initialize=function(){!function(){function a(){$("#hd_thaisan").val(""),$("#_txtId").val("0"),$("#_txtMaNV").val(""),$("#_txtCheDo").val(""),$("#_txtFrom").val(""),$("#_txtTo").val("")}function n(){$.ajax({url:"/Admin/NhanVien/GetAllActive",type:"GET",dataType:"json",async:!1,success:function(t){console.log(t);var t=t.reduce(function(t,e){return t[e.MaBoPhan]=t[e.MaBoPhan]||[],t[e.MaBoPhan].push(e),t},{}),a=(console.log(t),"<option value='' selected='selected'>Select option...</option>");$.each(t,function(t,e){a+="<optgroup label='"+t+"'>",$.each(e,function(t,e){a+="<option value='"+e.Id+"'>"+e.Id+"-"+e.TenNV+"</option>"}),a+="</optgroup>"}),$("#_txtMaNV").html(a)},error:function(t){console.log(t),hrms.notify("Cannot loading nhan vien","error","alert",function(){})}})}$("#btnExport").on("click",function(){var t=$("#txtMaNV").val(),e=$("#txtTimeFrom").val(),a=$("#txtTimeTo").val();$.ajax({type:"POST",url:"/Admin/NhanVienThaiSan/ExportExcel",data:{maNV:t,timeFrom:e,timeTo:a},beforeSend:function(){hrms.run_waitMe($("#gridThaisanIndex"))},success:function(t){window.location.href=t,hrms.hide_waitMe($("#gridThaisanIndex"))},error:function(){hrms.notify("Has an error in progress!","error","alert",function(){}),hrms.hide_waitMe($("#gridThaisanIndex"))}})}),$("#btnCreate").on("click",function(){a(),$("#hd_thaisan").val("Add"),n(),$("#add_thaisanModel").modal("show")}),$("body").on("click",".edit-nv-thaisan",function(t){t.preventDefault(),a(),n(),$("#hd_thaisan").val("Edit"),$("#add_thaisanModel").modal("show");var e=$(this).data("id");$.ajax({type:"GET",url:"/Admin/NhanVienThaiSan/GetById",dataType:"json",data:{Id:e},success:function(t){t?($("#_txtId").val(e),$("#_txtMaNV").val(t.MaNV),$("#_txtCheDo").val(t.CheDoThaiSan),$("#_txtFrom").val(t.FromDate),$("#_txtTo").val(t.ToDate),$("#_txtCheDo").trigger("change"),$("#_txtMaNV").trigger("change")):hrms.notify("error: Not found data!","error","alert",function(){})},error:function(t){hrms.notify("error: "+t.responseText,"error","alert",function(){})}})}),$("#btnSaveThaiSan").on("click",function(t){$("#frmThaisan_AddEdit").valid()&&(t.preventDefault(),t=$("#hd_thaisan").val(),$.ajax({url:"/Admin/NhanVienThaiSan/SaveThaiSan?action="+t,type:"POST",dataType:"json",data:{Id:$("#_txtId").val(),MaNV:$("#_txtMaNV").val(),CheDoThaiSan:$("#_txtCheDo").val(),FromDate:$("#_txtFrom").val(),ToDate:$("#_txtTo").val()},success:function(t){$("#add_thaisanModel").modal("hide"),hrms.notify("Update success!","Success","alert",function(){window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}}))}),$("body").on("click",".delete-nv-thaisan",function(t){t.preventDefault(),$("#hdId_delete").val($(this).data("id")),$("#delete_nhanVien_ts").modal("show")}),$("#btn-delete_nv_ts").on("click",function(t){t.preventDefault();t=$("#hdId_delete").val();$.ajax({url:"/Admin/NhanVienThaiSan/Delete",type:"POST",data:{id:t},success:function(t){$("#delete_nhanVien_ts").modal("hide"),hrms.notify("Delete success!","Success","alert",function(){window.location.reload()})},error:function(t){console.log(t.responseText),hrms.notify("error:"+t.responseText,"error","alert",function(){})}})}),this.doAftersearch=function(){var t;(t=$("#thaisanDataTable"))&&t.DataTable().destroy(),(t=$("#thaisanDataTable"))&&(t.DataTable().destroy(),$("#thaisanDataTable").DataTable({order:[6,"asc"]}),$("input[type=search]").addClass("floating").removeClass("form-control-sm").css("width",300).attr("placeholder","Type to search."),$('select[name="thaisanDataTable_length"]').removeClass("form-control-sm"))}}()}};