@using Microsoft.AspNetCore.Identity
@using OPERATION_MNS.Data.Entities
@using OPERATION_MNS.Extensions
@inject SignInManager<APP_USER> SignInManager
@inject UserManager<APP_USER> UserManager

<a href="#" class="dropdown-toggle nav-link" data-toggle="dropdown">
    <span class="user-img">
        <img src="@User.GetSpecificClaim("Avatar")" alt="" onerror="this.onerror=null;this.src='~/img/profiles/avatar-01.jpg';">
        <span class="status online"></span>
    </span>
    <span>@User.GetSpecificClaim("FullName")</span>
</a>
<div class="dropdown-menu">
    @if (!User.IsInRole("Staff") && !User.IsInRole("GrLeader") && !User.IsInRole("AssLeader") && !User.IsInRole("KRManager"))
    {
        <a class="dropdown-item" href="/OpeationMns/account/register">Register</a>
    }
    <a class="dropdown-item" href="/OpeationMns/account/resetpassword?userName=@User.GetSpecificClaim("UserName")">Reset password</a>
    <form action="/OpeationMns/Account/Logout" method="post" id="logoutForm">
        <button id="btnLogout" type="submit" class="dropdown-item">Logout</button>
    </form>
</div>
